"use strict";function unlockRemoveButtons(){var a=window.$(".cross");1===a.length?(disabledCross=a[0],disabledCross.setAttribute("disabled","disabled")):disabledCross.removeAttribute("disabled")}function unlockGraficarButton(){var a,b=!0,c=window.$(".elemento");window.$("#continuar").attr("disabled","disabled"),window.$("#addElement").attr("disabled","disabled");for(var d=0;d<c.length;d++)if(a=c[d],0===a.selectedIndex||"disabled"===a.getAttribute("disabled")){b=!1;break}b&&(window.$("#continuar").removeAttr("disabled"),window.$("#addElement").removeAttr("disabled"))}function removeTheEntireRow(a){var b=window.$("#remove-button-"+a).attr("data-tooltip-id");window.$("#fila"+a).remove(),unlockGraficarButton(),unlockRemoveButtons(),window.$("#"+b).remove()}function unlockChemicalVariable(a){var b=window.$("#fermentationselect"+a).find(":selected").text();""===b||"Seleccione Fermentacion"===b||"Cargando datos..."===b?window.$("#chemicalvariableselect"+a).attr("disabled","disabled"):window.$("#chemicalvariableselect"+a).removeAttr("disabled"),unlockGraficarButton()}function predictFermentationEnableButtons(){var a=window.$("#predictFermentationHours option:selected"),b=window.$("#predictFermentationFermentations option:selected");a.index()&&b.index()?window.$("#predictFermentationSendButton").removeAttr("disabled"):window.$("#predictFermentationSendButton").attr("disabled",!0)}function predictFermentationSetHours(){var a=window.$("#predictFermentationFermentations option:selected"),b=window.$("#predictFermentationHours");b.attr("disabled",!0);var c=a.index();if(isNaN(c)||1>c)b[0].selectedIndex=0,predictFermentationEnableButtons();else{b.empty(),b.append("<option>Cargando datos...</option>"),b[0].selectedIndex=0,predictFermentationEnableButtons();var d=a.val();window.$.ajax({url:window.Webservice.getURL()+"/getFermentationHours.php?fermentation="+d,success:function(a){var b,c,d=window.$("#predictFermentationHours");d.empty(),d.append("<option>Seleccione Hora</option>");for(var e=a.split("\n"),f=0;f<e.length;f++)c=e[f],b=window.$("<option>"+c+"</option>"),b.attr("value",c),b.appendTo(d);d.removeAttr("disabled"),predictFermentationEnableButtons()},error:function(){window.Materialize.toast("Error retrieving fermentation hours",4e3,"rounded red"),window.$("#predictFermentationTrouble").show(),window.$("#predictFermentationPrepare").hide(),window.$("#predictFermentationLoading").hide(),window.$("#predictFermentationContent").hide()}})}}function checkFermentationStatusEnableButtons(){var a=window.$("#checkFermentationStatusFermentations option:selected");a.index()?window.$("#checkFermentationStatusSendButton").removeAttr("disabled"):window.$("#checkFermentationStatusSendButton").attr("disabled",!0)}function allowDrop(a){a.preventDefault()}function drag(a){a.dataTransfer.setData("text",a.target.id)}function plotChemicalVariablesGetLightColor(a){var b=["rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"];return b[a]?b[a]:b[0]}function plotChemicalVariablesGetBorderLightColor(a){var b=["rgba(54, 162, 235, 1)","rgba(255,99,132,1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];return b[a]?b[a]:b[0]}function ploty(a){for(var b,c=[],d=0;d<a.length;d++)b=a[d].fechas,c.push({label:a[d].title,data:a[d].valores,backgroundColor:plotChemicalVariablesGetLightColor(d),borderColor:plotChemicalVariablesGetBorderLightColor(d),borderWidth:1});var e=window.$("#chart-placeholder");e.empty();var f=578,g=337;e.attr("style","width:"+f+"px !important;");var h=window.$('<canvas class="xtra"></canvas>');h.css("max-height",g+"px"),h.css("min-width",f+"px"),h.appendTo(e);var i=h[0].getContext("2d");new window.Chart(i,{type:"line",data:{labels:b,datasets:c},options:{tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}})}function updateChartStatus(){var a=document.getElementById("selected-fermentations");if(null===globaldataset.variable||0===a.childElementCount)return a.setAttribute("class","data-pool helper-para-graficar"),void ploty([]);a.setAttribute("class","data-pool");for(var b,c,d=[],e=function(a){if(""===a)return void window.Materialize.toast("Empty Response for a fermentation",4e3,"rounded red");for(var b,d=a.split("\n"),e=new Array(d.length),f=new Array(d.length),g=0;g<d.length;g++)b=new window.Identificable(d[g].split(",")),e[g]=b.id,f[g]=b.name;globaldataset.datapool[c][globaldataset.variable.id]={title:window.$("#ferny"+c).text(),fechas:e,valores:f,animated:!0},updateChartStatus()},f=0;f<a.childElementCount;f++){if(c=a.childNodes[f].id.replace("ferny",""),b=!0,globaldataset.datapool[c]||(globaldataset.datapool[c]={},b=!1),globaldataset.datapool[c][globaldataset.variable.id]||(globaldataset.datapool[c][globaldataset.variable.id]={},b=!1),!b)return void window.$.ajax({url:window.Webservice.getURL()+"/getChemicalVariableValues.php?fermentation="+c+"&chemicalvariable="+globaldataset.variable.id,success:e});d.push(globaldataset.datapool[c][globaldataset.variable.id])}ploty(d)}function drop(a){a.preventDefault();var b=a.dataTransfer.getData("text"),c=document.getElementById(b);a.target.className&&"fermenta-bien"===a.target.className?a.target.parentNode.appendChild(c):a.target.appendChild(c),updateChartStatus()}angular.module("wineAiApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/navbar",{templateUrl:"views/navbar.html",controller:"NavbarCtrl",controllerAs:"navbar"}).when("/selectChemicalVariables",{templateUrl:"views/selectchemicalvariables.html",controller:"SelectchemicalvariablesCtrl",controllerAs:"selectChemicalVariables"}).when("/plotChemicalVariables",{templateUrl:"views/plotchemicalvariables.html",controller:"PlotchemicalvariablesCtrl",controllerAs:"plotChemicalVariables"}).when("/predictFermentation",{templateUrl:"views/predictfermentation.html",controller:"PredictfermentationCtrl",controllerAs:"predictFermentation"}).when("/checkFermentationStatus",{templateUrl:"views/checkfermentationstatus.html",controller:"CheckfermentationstatusCtrl",controllerAs:"checkFermentationStatus"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings"}).when("/plotFermentationStatus",{templateUrl:"views/plotfermentationstatus.html",controller:"PlotfermentationstatusCtrl",controllerAs:"plotFermentationStatus"}).when("/statics",{templateUrl:"views/statics.html",controller:"StaticsCtrl",controllerAs:"statics"}).when("/comparevalues",{templateUrl:"views/comparevalues.html",controller:"ComparevaluesCtrl",controllerAs:"comparevalues"}).when("/predictions",{templateUrl:"views/predictions.html",controller:"PredictionsCtrl",controllerAs:"predictions"}).when("/devoptions",{templateUrl:"views/devoptions.html",controller:"DevoptionsCtrl",controllerAs:"devoptions"}).otherwise({redirectTo:"/"})}]),angular.module("wineAiApp").controller("MainCtrl",["$scope","$location","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.changeView=function(a){b.path(a)},a.inithome=function(){c.enablePlotCaching=!1,a.setBounds()},a.setBounds=function(){c.$("#home").css("height",document.body.clientHeight-65+"px"),c.$("#home").css("max-width",c.innerWidth+"px")},angular.element(c).bind("resize",function(){a.setBounds()})}]),angular.module("wineAiApp").controller("LoginCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.Login={user:"",pass:"",check:function(){return""===this.user?(d.Materialize.toast("Debe ingresar su correo electronico",4e3,"rounded red"),!1):""===this.pass?(d.Materialize.toast("Debe ingresar su clave",4e3,"rounded red"),!1):!0},submit:function(){this.check()&&(d.$("#login-form").hide(),d.$("#login-preload").show(),c({method:"GET",url:d.Webservice.getURL()+"/login.php?mail="+this.user+"&pass="+this.pass}).then(function(a){""===a.data?d.Materialize.toast("La combinacion de usuario y clave es incorrecta",4e3,"rounded red"):d.Session.init(a.data)?b.path("main"):d.Materialize.toast("Error de comunicaciÃ³n con el servidor",4e3,"rounded red"),d.$("#login-form").show(),d.$("#login-preload").hide()},function(){d.Materialize.toast("Error de conexion",4e3,"rounded red"),d.$("#login-form").show(),d.$("#login-preload").hide()}))}}}]),angular.module("wineAiApp").controller("NavbarCtrl",["$scope","$location","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.getUsername=function(){return c.Session.getUsername()},a.showDevOptions=function(){return c.devcounter>1},c.$(document).ready(function(){c.$(".button-collapse").sideNav(),c.$(".button-collapse").sideNav("hide"),c.$(".dropdown-button").dropdown({hover:!1,belowOrigin:!0,alignment:"right"})}),a.goBack=function(){history.back(-1)},a.goHome=function(){b.path("main")},a.isHome=function(){return""!==location.hash.substr(3)},a.settings=function(){"settings"===location.hash.substr(3)&&(c.devcounter++,c.setCookie("devcounter",c.devcounter)),b.path("settings")},a.developer=function(){b.path("devoptions")},a.logout=function(){c.Session.destroy(),b.path("login")}}]);var disabledCross,avoidWarningsSP=function(){avoidWarningsSP=removeTheEntireRow,unlockChemicalVariable()};angular.module("wineAiApp").controller("SelectchemicalvariablesCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.initialize=function(){a.setBounds(),a.loadRequiredData()},a.setBounds=function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px")},angular.element(d).bind("resize",function(){a.setBounds()}),a.continuar=function(){d.$("#mainContent").hide(),d.$("#loadContent").hide(),d.$("#processing").show();var c=d.$(".elemento");d.plotData=new Array(c.length);for(var e,f,g=0;g<c.length;g++){var h=c[g].getAttribute("id").replace("chemicalvariableselect","");e=d.$("#fermentationselect"+h).find(":selected"),f=d.$("#chemicalvariableselect"+h).find(":selected"),d.plotData[g]={fermentation:new d.Identificable([e.val(),e.text()]),chemicalvariable:new d.Identificable([f.val(),f.text()])}}d.plotCache={},d.plotCache.selectIndex=a.selectIndex,d.plotCache.tablebody=d.$("#tablebody"),d.enablePlotCaching=!0,b.path("plotChemicalVariables")},a.selectIndex=1,a.addElement=function(){var b,c=d.$("<tr></tr>");c.attr("id","fila"+a.selectIndex),c.appendTo("#tablebody"),b=d.$("<td></td>"),b.appendTo(c);var e=a.fermentations.clone().appendTo(b);e.attr("id","fermentationselect"+a.selectIndex),e.attr("class","browser-default custom-select"),e.attr("onchange","unlockChemicalVariable("+a.selectIndex+")"),b=d.$("<td></td>"),b.appendTo(c);var f=a.chemicalvariables.clone().appendTo(b);f.attr("id","chemicalvariableselect"+a.selectIndex),f.attr("class","elemento browser-default custom-select"),f.attr("disabled","disabled"),f.attr("onchange","unlockGraficarButton("+a.selectIndex+")"),b=d.$("<td></td>"),b.appendTo(c);var g=d.$("<button>X</button>").appendTo(b);g.attr("class","waves-effect waves-light btn blue cross tooltipped"),g.attr("onclick","removeTheEntireRow("+a.selectIndex+")"),g.attr("id","remove-button-"+a.selectIndex),g.attr("data-position","bottom"),g.attr("data-delay","50"),g.attr("data-tooltip","Descartar esta fila"),d.$(".tooltipped").tooltip({delay:50}),unlockGraficarButton(),unlockRemoveButtons(),e.trigger("change",a.selectIndex),a.selectIndex++},a.fermentations=null,a.chemicalvariables=null,a.updateLoadStatus=function(){null!==a.fermentations&&null!==a.chemicalvariables&&(d.enablePlotCaching&&null!==d.plotCache&&d.plotCache.selectIndex>0?(a.selectIndex=d.plotCache.selectIndex,d.$("#tablebody").replaceWith(d.plotCache.tablebody),unlockGraficarButton()):a.addElement(),d.$("#mainContent").show(),d.$("#loadContent").hide())},a.loadRequiredData=function(){c({method:"GET",url:d.Webservice.getURL()+"/getFermentationList.php"}).then(function(b){var c,e,f=b.data.split("\n");a.fermentations=d.$("<select><option>Seleccione Fermentacion</option></select>");for(var g in f)e=new d.Identificable(f[g].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(a.fermentations);a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red")}),c({method:"GET",url:d.Webservice.getURL()+"/getChemicalVariableList.php"}).then(function(b){var c,e,f=b.data.split("\n");a.chemicalvariables=d.$("<select><option>Seleccione Variable QuÃ­mica</option></select>");for(var g in f)e=new d.Identificable(f[g].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(a.chemicalvariables);a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving chemical variable list",4e3,"rounded red")})}}]),angular.module("wineAiApp").controller("PlotchemicalvariablesCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.plotChemicalVariablesRetry=function(){b.path("selectChemicalVariables")},a.plotChemicalVariablesValidateRequest=function(){if(d.plotData&&d.plotData.length){a.plotChemicalVariablesLoadedElements=new Array(d.plotData.length),a.plotChemicalVariablesLoadedElementsRemaining=d.plotData.length,1===d.plotData.length?a.plotChemicalVariablesLoadRequiredElementsUpdate=function(b,c){if(a.plotChemicalVariablesLoadedElements[b]=c,a.plotChemicalVariablesLoadedElementsRemaining--,0===a.plotChemicalVariablesLoadedElementsRemaining){for(var e=0;e<a.plotChemicalVariablesLoadedElements.length;e++)c=a.plotChemicalVariablesLoadedElements[e],a.plotChemicalVariablesDrawSingleChart([c]);d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").hide(),d.$("#plotChemicalVariablesContent").show()}}:d.enableCarouselView?a.plotChemicalVariablesLoadRequiredElementsUpdate=function(b,c){if(a.plotChemicalVariablesLoadedElements[b]=c,a.plotChemicalVariablesLoadedElementsRemaining--,0===a.plotChemicalVariablesLoadedElementsRemaining){var e=d.$("#plotChemicalVariablesContent");e.attr("style","height:"+(document.body.clientHeight-65)+"px !important;width:"+(document.body.clientWidth-5)+"px !important;"),e.attr("class","plotChemicalVariablesCarousel carousel");for(var f=0;f<a.plotChemicalVariablesLoadedElements.length;f++)c=a.plotChemicalVariablesLoadedElements[f],a.plotChemicalVariablesDrawCarouselChart([c]);d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").hide(),d.$("#plotChemicalVariablesContent").show(),d.$(".plotChemicalVariablesCarousel").carousel({duration:120,dist:0,indicators:!0})}}:a.plotChemicalVariablesLoadRequiredElementsUpdate=function(b,c){if(a.plotChemicalVariablesLoadedElements[b]=c,a.plotChemicalVariablesLoadedElementsRemaining--,0===a.plotChemicalVariablesLoadedElementsRemaining){d.$("#plotChemicalVariablesContent").attr("style","width:"+(document.body.clientWidth-25)+"px !important;");for(var e=0;e<a.plotChemicalVariablesLoadedElements.length;e++)c=a.plotChemicalVariablesLoadedElements[e],a.plotChemicalVariablesDrawChart([c]);a.plotChemicalVariablesLoadedElements.length%2!==0&&a.plotChemicalVariablesDrawChart(a.plotChemicalVariablesLoadedElements[0]).css("opacity","0"),d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").hide(),d.$("#plotChemicalVariablesContent").show()}};for(var b=0;b<d.plotData.length;b++)a.plotChemicalVariablesLoadRequiredElements(b,d.plotData[b])}else d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").show(),d.$("#plotChemicalVariablesContent").hide()},a.plotChemicalVariablesSetBounds=function(){d.$("#plotChemicalVariablesBody").css("height","0px"),d.$("#plotChemicalVariablesBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#plotChemicalVariablesBody").css("max-width",d.innerWidth+"px")},angular.element(d).bind("resize",function(){a.plotChemicalVariablesSetBounds()}),a.nextColor=-1,a.plotChemicalVariablesGetLightColor=function(a){var b=["rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"];return b[a]?b[a]:b[0]},a.plotChemicalVariablesGetBorderLightColor=function(a){var b=["rgba(54, 162, 235, 1)","rgba(255,99,132,1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];return b[a]?b[a]:b[0]},a.plotChemicalVariablesGetColor=function(){return a.nextColor<d.plotColors.length-1?a.nextColor++:a.nextColor=0,"rgba("+d.plotColors[a.nextColor]+", 0.4)"},a.plotChemicalVariablesGetBorderColor=function(){return"rgba("+d.plotColors[a.nextColor]+", 0.8)"},a.plotChemicalVariablesDrawCarouselChart=function(b){for(var c,e=[],f=0;f<b.length;f++)c=b[f].fechas,e.push({label:b[f].title,data:b[f].valores,backgroundColor:a.plotChemicalVariablesGetColor(f),borderColor:a.plotChemicalVariablesGetBorderColor(f),borderWidth:1});var g=d.$("#plotChemicalVariablesContent"),h=.75*d.innerWidth,i=.95*(document.body.clientHeight-65),j=d.$("<div></div>");j.attr("class","canvas-carousel carousel-item"),j.attr("style","height:"+i+"px !important;width:"+h+"px !important;"),j.appendTo(g);var k=d.$("<canvas></canvas>");k.css("max-height",i+"px"),k.css("min-width",h+"px"),k.appendTo(j);var l=k[0].getContext("2d");new d.Chart(l,{type:"line",data:{labels:c,datasets:e},options:{animation:{duration:0},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}})},a.plotChemicalVariablesDrawSingleChart=function(b){for(var c,e=[],f=0;f<b.length;f++)c=b[f].fechas,e.push({label:b[f].title,data:b[f].valores,backgroundColor:a.plotChemicalVariablesGetLightColor(f),borderColor:a.plotChemicalVariablesGetBorderLightColor(f),borderWidth:1});var g=d.$("#plotChemicalVariablesContent"),h=.75*d.innerWidth,i=.95*(document.body.clientHeight-65);g.attr("style","width:"+h+"px !important;");var j=d.$("<canvas></canvas>");j.css("max-height",i+"px"),j.css("min-width",h+"px"),j.appendTo(g);var k=j[0].getContext("2d");new d.Chart(k,{type:"line",data:{labels:c,datasets:e},options:{tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}})},a.plotChemicalVariablesDrawChart=function(b){for(var c,e,f=[],g=0;g<b.length;g++)c=b[g].animated,e=b[g].fechas,f.push({label:b[g].title,data:b[g].valores,backgroundColor:a.plotChemicalVariablesGetColor(g),borderColor:a.plotChemicalVariablesGetBorderColor(g),borderWidth:1});var h=d.$("<canvas></canvas>"),i=d.innerWidth/2*.95,j=.95*(document.body.clientHeight-65);i>j&&(j=9*i/16),i-=20,j-=20,h.attr("class","stomper"),h.css("display","inline-block"),h.css("min-height",j+"px"),h.css("min-width",i+"px"),h.css("max-width",i+"px"),h.appendTo(d.$("#plotChemicalVariablesContent"));var k=h[0].getContext("2d");return new d.Chart(k,{type:"line",data:{labels:e,datasets:f},options:{animation:c?{}:{duration:0},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}}),h},a.plotChemicalVariablesLoadRequiredElements=function(b,e){var f=e.chemicalvariable.name+" de "+e.fermentation.name;c({method:"GET",url:d.Webservice.getURL()+"/getChemicalVariableValues.php?fermentation="+e.fermentation.id+"&chemicalvariable="+e.chemicalvariable.id}).then(function(c){if(""===c.data)return void d.Materialize.toast("Empty Response for "+f,4e3,"rounded red");for(var g=c.data.split("\n"),h=new Array(g.length),i=new Array(g.length),j=0;j<g.length;j++)e=new d.Identificable(g[j].split(",")),h[j]=e.id,i[j]=e.name;a.plotChemicalVariablesLoadRequiredElementsUpdate(b,{title:f,fechas:h,valores:i,animated:4>b})},function(){d.Materialize.toast("Error retrieving element "+f,4e3,"rounded red")})},a.plotChemicalVariablesInitialize=function(){a.plotChemicalVariablesSetBounds(),a.plotChemicalVariablesValidateRequest()}}]);var predictFermentationCheck=function(){predictFermentationCheck=predictFermentationCheck,predictFermentationSetHours()};angular.module("wineAiApp").controller("PredictfermentationCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.predictFermentationInitialize=function(){a.predictFermentationSetBounds(),a.predictFermentationLoadRequiredData()},a.predictFermentationRetry=function(){d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").show()},a.predictFermentationLoadRequiredData=function(){c({method:"GET",url:d.Webservice.getURL()+"/getFermentationList.php"}).then(function(a){var b,c,e=a.data.split("\n"),f=d.$("#predictFermentationFermentations");f.empty(),d.$("<option>Seleccione Fermentacion</option>").appendTo(f);for(var g in e)c=new d.Identificable(e[g].split("	")),b=d.$("<option>"+c.name+"</option>"),b.attr("value",c.id),b.appendTo(f);d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").show()},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red"),d.$("#predictFermentationTrouble").show(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").hide()})},a.predictFermentationSendRequest=function(){d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").show(),d.$("#predictFermentationContent").hide();var a=d.$("#predictFermentationHours").find(":selected").val(),b=d.$("#predictFermentationFermentations").find(":selected").val();c({method:"GET",url:d.Webservice.getURL()+"/getPredictionValue.php?fermentation="+b+"&hour="+a}).then(function(a){var b=parseInt(a.data);switch(b){case-1:d.Materialize.toast("La fermentacion va mal",4e3,"rounded red");break;case 1:d.Materialize.toast("La fermentacion va bien",4e3,"rounded green");break;default:d.Materialize.toast(a.data,4e3,"rounded red")}d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").show()},function(){d.Materialize.toast("Error requesting prediction",4e3,"rounded red"),d.$("#predictFermentationTrouble").show(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").hide()})},a.predictFermentationSetBounds=function(){d.$("#predictFermentationBody").css("height","0px"),d.$("#predictFermentationBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#predictFermentationBody").css("max-width",d.innerWidth+"px")},angular.element(d).bind("resize",function(){a.predictFermentationSetBounds()})}]),angular.module("wineAiApp").controller("CheckfermentationstatusCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.checkFermentationStatusSendRequest=function(){d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").show(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").hide(),c({method:"GET",url:d.Webservice.getURL()+"/getChemicalVariableList.php"}).then(function(a){var c;null===d.linkFromTheAbyss?(c=d.$("#checkFermentationStatusFermentations option:selected"),c=new d.Identificable([c.val(),c.text()])):(c=new d.Identificable([d.linkFromTheAbyss[0],d.linkFromTheAbyss[1]]),d.linkFromTheAbyss=null);var e=a.data.split("\n");d.plotData=[],d.plotCache={},d.plotCache.selectIndex=-1,d.plotCache.tablebody=d.$("#checkFermentationStatusTablebody"),d.enablePlotCaching=!0;for(var f in e)d.plotData.push({fermentation:c,chemicalvariable:new d.Identificable(e[f].split("	"))});d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").show(),b.path("plotFermentationStatus")},function(){d.Materialize.toast("Error retrieving getChemicalVariableList list",4e3,"rounded red"),d.$("#checkFermentationStatusTrouble").show(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").hide()})},a.checkFermentationStatusLoadRequiredData=function(){return d.enablePlotCaching&&d.plotCache&&-1===d.plotCache.selectIndex?(d.$("#checkFermentationStatusTablebody").replaceWith(d.plotCache.tablebody),d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").show(),void checkFermentationStatusEnableButtons()):void c({method:"GET",url:d.Webservice.getURL()+"/getFermentationList.php"}).then(function(b){var c,e,f=b.data.split("\n"),g=d.$("#checkFermentationStatusFermentations");g.empty(),d.$("<option>Seleccione Fermentacion</option>").appendTo(g);for(var h in f)e=new d.Identificable(f[h].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(g);return null!==d.linkFromTheAbyss?void a.checkFermentationStatusSendRequest():(d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),void d.$("#checkFermentationStatusContent").show())},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red"),d.$("#checkFermentationStatusTrouble").show(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").hide()})},a.checkFermentationStatusInitialize=function(){a.checkFermentationStatusSetBounds(),a.checkFermentationStatusLoadRequiredData()},a.checkFermentationStatusSetBounds=function(){d.$("#checkFermentationStatusBody").css("height","0px"),d.$("#checkFermentationStatusBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#checkFermentationStatusBody").css("max-width",d.innerWidth+"px")},angular.element(d).bind("resize",function(){a.checkFermentationStatusSetBounds()})}]),angular.module("wineAiApp").controller("SettingsCtrl",["$scope","$http","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.settings={},a.settingsInitialize=function(){c.$("#enableCarouselCheckBox").prop("checked",c.enableCarouselView)},a.saveMe=function(){c.enableCarouselView=c.$("#enableCarouselCheckBox").is(":checked"),c.Materialize.toast("Changes saved.",4e3,"rounded green")}}]),angular.module("wineAiApp").controller("PlotfermentationstatusCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.plotFermentationStatusRetry=function(){b.path("checkFermentationStatus")},a.plotFermentationStatusValidateRequest=function(){if(d.plotData&&d.plotData.length){d.$("#plotFermentationStatusFermentation").html(d.plotData[0].fermentation.name),a.plotFermentationStatusLoadedElements=new Array(d.plotData.length),a.plotFermentationStatusLoadedElementsRemaining=d.plotData.length,d.enableCarouselView?a.plotFermentationStatusLoadRequiredElementsUpdate=function(b,c){if(a.plotFermentationStatusLoadedElements[b]=c,a.plotFermentationStatusLoadedElementsRemaining--,0===a.plotFermentationStatusLoadedElementsRemaining){var e=d.$("<div></div>");e.attr("id","plotFermentationStatusCarousel"),e.appendTo(d.$("#plotFermentationStatusContent")),e.attr("style","height:"+(document.body.clientHeight-175)+"px !important;width:"+(document.body.clientWidth-5)+"px !important;"),e.attr("class","carousel");for(var f=0;f<a.plotFermentationStatusLoadedElements.length;f++)c=a.plotFermentationStatusLoadedElements[f],a.plotFermentationStatusDrawCarouselChart([c]);d.$("#plotFermentationStatusLoading").hide(),d.$("#plotFermentationStatusTrouble").hide(),d.$("#plotFermentationStatusContent").show(),d.$("#plotFermentationStatusCarousel").carousel({duration:120,dist:0,indicators:!0})}}:a.plotFermentationStatusLoadRequiredElementsUpdate=function(b,c){if(a.plotFermentationStatusLoadedElements[b]=c,a.plotFermentationStatusLoadedElementsRemaining--,0===a.plotFermentationStatusLoadedElementsRemaining){d.$("#plotFermentationStatusContent").attr("style","width:"+(document.body.clientWidth-25)+"px !important;");for(var e=0;e<a.plotFermentationStatusLoadedElements.length;e++)c=a.plotFermentationStatusLoadedElements[e],a.plotFermentationStatusDrawChart([c]);a.plotFermentationStatusLoadedElements.length%2!==0&&a.plotFermentationStatusDrawChart(a.plotFermentationStatusLoadedElements[0]).css("opacity","0"),d.$("#plotFermentationStatusLoading").hide(),d.$("#plotFermentationStatusTrouble").hide(),d.$("#plotFermentationStatusContent").show()}};for(var b=0;b<d.plotData.length;b++)a.plotFermentationStatusLoadRequiredElements(b,d.plotData[b])}else d.$("#plotFermentationStatusLoading").hide(),d.$("#plotFermentationStatusTrouble").show(),d.$("#plotFermentationStatusContent").hide()},a.plotFermentationStatusSetBounds=function(){d.$("#plotFermentationStatusBody").css("height","0px"),d.$("#plotFermentationStatusBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#plotFermentationStatusBody").css("max-width",d.innerWidth+"px")},angular.element(d).bind("resize",function(){a.plotFermentationStatusSetBounds()}),a.nextColor=-1,a.plotFermentationStatusGetColor=function(){return a.nextColor<d.plotColors.length-1?a.nextColor++:a.nextColor=0,"rgba("+d.plotColors[a.nextColor]+", 0.4)"},a.plotFermentationStatusGetBorderColor=function(){return"rgba("+d.plotColors[a.nextColor]+", 0.8)"},a.plotFermentationStatusDrawCarouselChart=function(b){for(var c,e=[],f=0;f<b.length;f++)c=b[f].fechas,e.push({label:b[f].title,data:b[f].valores,backgroundColor:a.plotFermentationStatusGetColor(f),borderColor:a.plotFermentationStatusGetBorderColor(f),borderWidth:1});var g=d.$("#plotFermentationStatusCarousel"),h=.75*d.innerWidth,i=.95*(document.body.clientHeight-175),j=d.$("<div></div>");j.attr("class","canvas-carousel carousel-item"),j.attr("style","height:"+i+"px !important;width:"+h+"px !important;"),j.appendTo(g);var k=d.$("<canvas></canvas>");k.css("max-height",i+"px"),k.css("min-width",h+"px"),k.appendTo(j);var l=k[0].getContext("2d");new d.Chart(l,{type:"line",data:{labels:c,datasets:e},options:{animation:{duration:0},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}})},a.plotFermentationStatusDrawChart=function(b){for(var c,e,f=[],g=0;g<b.length;g++)c=b[g].animated,e=b[g].fechas,f.push({label:b[g].title,data:b[g].valores,backgroundColor:a.plotFermentationStatusGetColor(g),borderColor:a.plotFermentationStatusGetBorderColor(g),borderWidth:1});var h=d.$("<canvas></canvas>"),i=d.innerWidth/2*.95,j=.95*(document.body.clientHeight-65);i>j&&(j=9*i/16),i-=20,j-=20,h.attr("class","stomper"),h.css("display","inline-block"),h.css("min-height",j+"px"),h.css("min-width",i+"px"),h.css("max-width",i+"px"),h.appendTo(d.$("#plotFermentationStatusContent"));var k=h[0].getContext("2d");return new d.Chart(k,{type:"line",data:{labels:e,datasets:f},options:{animation:c?{}:{duration:0},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}}),h},a.plotFermentationStatusLoadRequiredElements=function(b,e){var f=e.chemicalvariable.name;c({method:"GET",
url:d.Webservice.getURL()+"/getChemicalVariableValues.php?fermentation="+e.fermentation.id+"&chemicalvariable="+e.chemicalvariable.id}).then(function(c){if(""===c.data)return void d.Materialize.toast("Empty Response for "+f,4e3,"rounded red");for(var g=c.data.split("\n"),h=new Array(g.length),i=new Array(g.length),j=0;j<g.length;j++)e=new d.Identificable(g[j].split(",")),h[j]=e.id,i[j]=e.name;a.plotFermentationStatusLoadRequiredElementsUpdate(b,{title:f,fechas:h,valores:i,animated:4>b})},function(){d.Materialize.toast("Error retrieving element "+f,4e3,"rounded red")})},a.plotFermentationStatusInitialize=function(){a.plotFermentationStatusSetBounds(),a.plotFermentationStatusValidateRequest()}}]),angular.module("wineAiApp").controller("StaticsCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]});var globaldataset={variable:null,datapool:[]},testUnusedFunctions=function(){var a;a=drag(),a=drop(),a=allowDrop(),a=testUnusedFunctions};angular.module("wineAiApp").controller("ComparevaluesCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.initialize=function(){a.setBounds(),a.loadRequiredData()},a.setBounds=function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px")},a.fermentations=null,a.chemicalvariables=null,a.updateLoadStatus=function(){if(null!==a.fermentations&&null!==a.chemicalvariables){for(var b,c=d.$("#available-fermentations"),e=0;e<a.fermentations.length;e++)b=d.$('<div draggable="true" ondragstart="drag(event)" id="ferny'+a.fermentations[e].id+'" class="fermenta-bien">'+a.fermentations[e].name+"</div>"),b.appendTo(c);var f=a.chemicalvariables.appendTo(d.$("#chart-options"));f.attr("id","chemicalvariableselect"),f.attr("class","elemento browser-default custom-select venter"),f.change(function(){globaldataset.variable={},globaldataset.variable.id=window.$(this).find(":selected").val(),globaldataset.variable.name=window.$(this).find(":selected").text(),updateChartStatus()}),f.trigger("change"),d.$("#mainContent").show(),d.$("#loadContent").hide()}},a.loadRequiredData=function(){c({method:"GET",url:d.Webservice.getURL()+"/getFermentationList.php"}).then(function(b){var c=b.data.split("\n");a.fermentations=[];for(var e in c)a.fermentations.push(new d.Identificable(c[e].split("	")));a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red")}),c({method:"GET",url:d.Webservice.getURL()+"/getChemicalVariableList.php"}).then(function(b){var c,e,f=b.data.split("\n");a.chemicalvariables=d.$("<select></select>");for(var g in f)e=new d.Identificable(f[g].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(a.chemicalvariables);a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving chemical variable list",4e3,"rounded red")})}}]);var dazzle=function(a,b){window.linkFromTheAbyss=[a,b],window.$("#mainContent").hide(),window.$("#loadContent").show(),window.$.ajax({url:window.Webservice.getURL()+"/getChemicalVariableList.php",success:function(a){var b=new window.Identificable([window.linkFromTheAbyss[0],window.linkFromTheAbyss[1]]);window.linkFromTheAbyss=null;var c=a.split("\n");window.plotData=[],window.plotCache={},window.plotCache.selectIndex=-1,window.plotCache.tablebody=window.$("#predictionTablebody"),window.enablePlotCaching=!0;for(var d in c)window.plotData.push({fermentation:b,chemicalvariable:new window.Identificable(c[d].split("	"))});window.$("#mainContent").show(),window.$("#loadContent").hide(),location.href="#!/plotFermentationStatus"}})},doTask=function(a,b,c,d){if("#!/predictions"===location.hash&&"Pending"===c){if(d=window.predictionInterval-d,d>0){var e=window.$("#feh-"+a+"-"+b),f=window.formatTime(d);return e.attr("class","orange-text center"),e.text(f),"00:00:00"===f&&(e.attr("class","blue-text center"),e.text("Consultando...")),void setTimeout(function(){doTask(a,b,"Pending",window.predictionInterval-d+1e3)},1e3)}window.$.ajax({url:window.Webservice.getURL()+"/setPredictionValue.php?id="+a+"&hora="+b,success:function(c){var e=window.$("#feh-"+a+"-"+b);return"No Disponible"===c?(e.attr("class","red-text center"),e.text("Reintentando..."),void setTimeout(function(){doTask(a,b,"Pending",window.predictionInterval-d+5e3)},5e3)):("Bien"===c?e.attr("class","green-text center"):e.attr("class","red-text center"),e.text(c),b=parseInt(b),12!==b&&window.Materialize.toast("Nueva Prediccion",4e3,"rounded green"),b+=12,void(b>48||(e=window.$("#feh-"+a+"-"+b),e.text("Waiting..."),e.attr("class","orange-text center"),doTask(a,b,"Pending",-1*d))))}})}},juntos=function(){var a;a=dazzle,a=juntos};angular.module("wineAiApp").controller("PredictionsCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.initializen=function(){a.setBounds(),a.loadRequiredData()},a.setBounds=function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px")},a.loadRequiredData=function(){c({method:"GET",url:d.Webservice.getURL()+"/getPredictionList.php"}).then(function(a){var b,c,e,f,g,h=["Sauron"],i=d.$("#tablebody"),j=a.data.split("\n"),k=(new Date).getTime(),l=[];for(var m in j){e=j[m].split("	"),g=e[4],e[0]!==h[0]?(b=d.$("<tr></tr>"),b.appendTo(i),c=d.$('<td onclick="dazzle('+e[0]+",'"+e[1]+"')\">"+e[1]+"</td>"),c.attr("class","clickeable center blue-text"),c.appendTo(b),h=e,f=[e[0],e[3],e[4],k-Date.parse(e[2])],l.push(f),"Pending"===e[4]&&(g="Waiting...")):"Pending"===e[4]?g="Pending"===h[4]?"--":"Waiting...":console.log(e[4]),e[4]!==f[2]&&(f[1]=e[3],f[2]=e[4]);var n={"--":"","Waiting...":"orange-text ",Bien:"green-text ",Mal:"red-text "};c=d.$('<td id="feh-'+e[0]+"-"+e[3]+'">'+g+"</td>"),c.attr("class",n[g]+"center"),c.appendTo(b)}d.$("#mainContent").show(),d.$("#loadContent").hide();for(var o=0;o<l.length;o++)d.doTask(l[o][0],l[o][1],l[o][2],l[o][3])},function(){d.Materialize.toast("Error retrieving fermentation prediction",4e3,"rounded red")})}}]),angular.module("wineAiApp").controller("DevoptionsCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.settings={},a.devoptionsInitialize=function(){a.setBounds(),a.settings.WEBSERVICE_URL=d.Webservice.getURL(),a.loadVariable("PREDICTOR_URL",function(b){a.settings.PREDICTOR_IP=b.data,d.Webservice.setBlackBoxURL(b.data),a.loadVariable("PREDICTOR_PUERTO",function(b){a.settings.PREDICTOR_PUERTO=b.data,d.Webservice.setBlackBoxPort(b.data),a.loadVariable("PREDICCION_INTERVALO",function(b){a.settings.PREDICCION_INTERVALO=b.data,d.predictionInterval=parseInt(a.settings.PREDICCION_INTERVALO);var c=d.formatTime(d.predictionInterval).split(":");"00"!==c[0]?(d.$("#timeinterval").val(parseInt(c[0],10)),d.$("#timeunit").val("4").prop("selected",!0)):"00"!==c[1]?(d.$("#timeinterval").val(parseInt(c[1],10)),d.$("#timeunit").val("3").prop("selected",!0)):"00"!==c[2]?(d.$("#timeinterval").val(parseInt(c[2],10)),d.$("#timeunit").val("2").prop("selected",!0)):(d.$("#timeinterval").val(d.predictionInterval),d.$("#timeunit").val("1").prop("selected",!0))})})})},a.setBounds=function(){setInterval(function(){d.$("#devContent").css("height","0px"),d.$("#devContent").css("min-height",document.body.clientHeight-65+"px"),d.$("#devContent").css("max-width",d.innerWidth+"px")},100)},a.hideDeveloperOptions=function(){d.devcounter=0,b.path("main")},a.resetPredictionTable=function(){c({method:"GET",url:d.Webservice.getURL()+"/resetPredictionTable.php"}).then(function(a){"1"===a.data?d.Materialize.toast("Table reset successfully",4e3,"rounded green"):d.Materialize.toast(a.data,4e3,"rounded red")},function(){d.Materialize.toast("Error reseting",4e3,"rounded red")})},a.loadVariable=function(a,b){c({method:"GET",url:d.Webservice.getURL()+"/var/getValue.php?variable="+a}).then(b,function(){d.Materialize.toast("Error retrieving variable: "+a,4e3,"rounded red")})},a.saveVariable=function(a,b,e){c({method:"GET",url:d.Webservice.getURL()+"/var/setValue.php?variable="+a+"&value="+b}).then(e,function(){d.Materialize.toast("Error saving variable: "+a,4e3,"rounded red")})},a.saveMe=function(){var b=[1,1e3,6e4,36e5];d.predictionInterval=parseInt(d.$("#timeinterval").val())*b[parseInt(d.$("#timeunit").val())-1],console.log(d.predictionInterval),d.predictionInterval=isNaN(d.predictionInterval)?432e5:d.predictionInterval,d.predictionInterval=d.predictionInterval<1e3?1e3:d.predictionInterval,d.Webservice.setBlackBoxURL(a.settings.PREDICTOR_IP),d.Webservice.setBlackBoxPort(a.settings.PREDICTOR_PUERTO),d.Webservice.setURL(a.settings.WEBSERVICE_URL),d.setCookie("prediction_interval",d.predictionInterval),d.setCookie("webserviceURL",a.settings.WEBSERVICE_URL),d.setCookie("blackboxURL",a.settings.PREDICTOR_IP),d.setCookie("blackboxPort",a.settings.PREDICTOR_PUERTO);var c=!0;a.saveVariable("PREDICTOR_IP",a.settings.PREDICTOR_IP,function(b){c=c&&"1"===b.data,a.saveVariable("PREDICTOR_PUERTO",a.settings.PREDICTOR_PUERTO,function(b){c=c&&"1"===b.data,a.saveVariable("PREDICCION_INTERVALO",d.predictionInterval,function(a){c=c&&"1"===a.data,c?d.Materialize.toast("Changes saved.",4e3,"rounded green"):d.Materialize.toast("Some changes may not be saved.",4e3,"rounded orange")})})})}}]),angular.module("wineAiApp").run(["$templateCache",function(a){a.put("views/checkfermentationstatus.html",'<!-- Navbar goes here --> <div ng-include="checkFermentationStatus.menuTemplate.url"></div> <!-- Contenido --> <div id="checkFermentationStatusBody" class="center vantainer" ng-init="checkFermentationStatusInitialize()"> <div class="valign"></div> <div class="venter"> <div id="checkFermentationStatusLoading"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="checkFermentationStatusTrouble" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="retry" ng-click="checkFermentationStatusRetry();"> Intentar nuevamente </button> </div> <div id="checkFermentationStatusPrepare" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Preparando consulta...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="checkFermentationStatusContent" style="display:none"> <h4>Ver Estado Fermentacion</h4> <table id="checkFermentationStatusSelectContainer" class="center bordered custom-table"> <thead> <tr> <th class="center">Fermentacion</th> </tr> </thead> <tbody id="checkFermentationStatusTablebody"> <tr> <td><select class="browser-default custom-select" id="checkFermentationStatusFermentations" onchange="checkFermentationStatusEnableButtons()"></select></td> </tr> </tbody> </table> <br> <button disabled class="waves-effect waves-light btn blue" style="margin:10px" id="checkFermentationStatusSendButton" ng-click="checkFermentationStatusSendRequest();"> Ver Estado </button> </div> </div> </div>'),a.put("views/comparevalues.html",'<!-- Navbar goes here --> <div ng-include="comparevalues.menuTemplate.url"></div> <!-- Contenido --> <div id="content" class="center vantainer" ng-init="initialize()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="processing"> <h5 style="cursor:default;margin-bottom:32px">Preparando consulta...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="mainContent"><div id="chart-container"><div id="chart-options"><div class="valign"></div><div class="selected-variable-tooltip venter">Variable seleccionada: </div></div><div id="chart-placeholder"></div></div><div class="data-pool" ondrop="drop(event)" ondragover="allowDrop(event)" id="selected-fermentations"></div><div class="data-pool" ondrop="drop(event)" ondragover="allowDrop(event)" id="available-fermentations"></div></div> </div> </div>'),a.put("views/devoptions.html",'<!-- Navbar goes here --> <div ng-include="devoptions.menuTemplate.url"></div> <!-- Contenido --> <div id="devContent" class="center valign-wrapper" ng-init="devoptionsInitialize()" style="background:#323232"> <div class="center" style="width:100%"> <form class="z-depth-4" style="display: inline-block;width: 600px; cursor: default; padding:20px; background:rgba(255,255,255,0.9)"> <h3><i class="material-icons orange-text">warning</i> Developer Area</h3> <div class="row" ng-style="{\'margin\':\'0px\', \'margin-top\':\'30px\', \'margin-bottom\':\'30px\' }"> <button class="btn waves-effect waves-light" ng-click="hideDeveloperOptions()">Ocultar Opciones</button> <button class="btn waves-effect waves-light red" ng-click="resetPredictionTable()">Resetear tabla</button> </div> <div class="row" ng-style="{\'margin\':\'0px\', \'margin-top\':\'20px\', \'margin-right\': \'5px\', \'text-align\':\'right\'}"> URL del webservice: <input placeholder="Enter URL" class="medium-input" ng-model="settings.WEBSERVICE_URL"> </div> <div class="row roger" ng-style="{\'text-align\':\'right\'}"> HOST del predictor: <input placeholder="Enter URL" class="medium-input" ng-model="settings.PREDICTOR_IP"> </div> <div class="row roger" ng-style="{\'text-align\':\'right\'}"> Puerto del predictor: <input placeholder="Enter Port" class="medium-input" ng-model="settings.PREDICTOR_PUERTO"> </div> <div class="row" ng-style="{\'margin\':\'0px\', \'margin-bottom\':\'30px\', \'margin-right\': \'5px\', \'text-align\':\'right\' }"> Intervalo entre Predicciones: <input placeholder="Enter Interval" id="timeinterval" class="smol-input" value="12"> <select id="timeunit" class="browser-default smol-select"><option value="1">Milisegundos</option><option value="2">Segundos</option><option value="3">Minutos</option><option value="4" selected>Horas</option></select> </div> <button class="btn waves-effect waves-light blue" ng-click="saveMe()">Aplicar Cambios</button> </form> </div> </div>'),a.put("views/login.html",'<center class="blue darken-2 blindfold vantainer"> <div class="valign"></div> <div class="venter"> <div id="login-preload" style="width:400px;height:380px;display:none" class="z-depth-1 grey lighten-4 vantainer"> <div class="valign"></div> <div class="venter"> <h5 id="vineyardlabel">Iniciando sesiÃ³n</h5> <br> <div class="preloader-wrapper active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div> <div class="gap-patch"> <div class="circle"></div> </div> <div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> </div> <form id="login-form" style="width:400px;height:380px;padding:40px" class="z-depth-1 grey lighten-4 vantainer"> <div class="valign"></div> <div class="venter" style="width:100%"> <div class="input-field" style="margin-top:30px"> <input ng-model="Login.user" class="validate" type="text" name="email" id="email"> <label for="email">Enter your email</label> </div> <div class="input-field" style="margin-top:30px"> <input ng-model="Login.pass" class="validate" type="password" name="password" id="password"> <label for="password">Enter your password</label> </div> <div style="margin-top:30px"> <button style="width:100%" ng-model="button" type="submit" name="btn_login" class="btn btn-large waves-effect blue" ng-click="Login.submit()">Iniciar SesiÃ³n</button> </div> </div> </form> </div> </center>'),a.put("views/main.html",'<!-- Navbar goes here --> <div ng-include="main.menuTemplate.url"></div> <!-- Contenido --> <div class="center vantainer" id="home" ng-init="inithome()"> <div class="valign"></div> <div class="venter"><div class="z-depth-2 center custom-option-box custom-color-1" ng-click="changeView(\'selectChemicalVariables\')"> <img class="custom-image-box custom-image-size-1" src="images/line-chart.ffe1320d.png"> <div>Graficar Variables QuÃ­micas</div> </div><div class="z-depth-2 center custom-option-box custom-color-2 pls-circle-background" ng-click="changeView(\'comparevalues\')"> <img class="custom-image-box custom-image-size-2" src="images/comparative.9d29f620.png"> <div>Comparar Valores</div> </div><div class="z-depth-2 center custom-option-box custom-color-3" ng-click="changeView(\'checkFermentationStatus\')"> <img class="custom-image-box custom-image-size-3" src="images/analytics.ad3f24f7.png"> <div>Estado de Fermentacion</div> </div><div class="z-depth-2 center custom-option-box custom-color-4" ng-click="changeView(\'predictions\')"> <img class="custom-image-box custom-image-size-4" src="images/stopwatch.32ff3a8a.png"> <div>Tabla de Predicciones</div> </div></div></div>'),a.put("views/navbar.html",'<div ng-controller="NavbarCtrl as menu"> <!-- Dropdown Structure --> <ul id="dropdown1" class="dropdown-content"> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="settings();"> <i class="material-icons left" style="width:32px">settings</i> Settings </li> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="developer();" ng-if="showDevOptions()"> <i class="material-icons left" style="width:32px">developer_mode</i> Developer </li> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="logout();"> <i class="material-icons left" style="width:32px">exit_to_app</i> Log out </li> </ul> <!-- NavBar Structure --> <nav class="blue darken-2 vantainer"> <div class="nav-wrapper"> <div class="custom-nav left-align"> <div ng-click="goHome();" ng-if="isHome()" style="display:inline-block;cursor:pointer;padding-left:20px;padding-right:20px;vertical-align:middle"> <i class="material-icons left">home</i> Home </div> <div ng-click="goBack();" ng-if="isHome()" style="display:inline-block;cursor:pointer;padding-left:20px;padding-right:20px;vertical-align:middle"> <i class="material-icons left">arrow_back</i> Back </div> </div><div class="custom-nav right-align"> <!-- Dropdown Trigger --> <div style="height:64px;display:inline-block;vertical-align:top;cursor:pointer;min-width:200px" class="center dropdown-button" href="#!" data-activates="dropdown1"> {{getUsername()}} <i class="material-icons right">arrow_drop_down</i> </div> </div> </div> </nav> </div>'),a.put("views/plotchemicalvariables.html",'<!-- Navbar goes here --> <div ng-include="plotChemicalVariables.menuTemplate.url"></div> <!-- Contenido --> <div id="plotChemicalVariablesBody" class="center vantainer" ng-init="plotChemicalVariablesInitialize()"> <div class="valign"></div> <div class="venter"> <div id="plotChemicalVariablesLoading"> <h5 style="cursor:default;margin-bottom:32px">Consultando los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="plotChemicalVariablesTrouble" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="plotChemicalVariablesRetryButton" ng-click="plotChemicalVariablesRetry();"> Intentar nuevamente </button> </div> <div id="plotChemicalVariablesContent" style="display:none"></div> </div> </div>'),a.put("views/plotfermentationstatus.html",'<!-- Navbar goes here --> <div ng-include="plotFermentationStatus.menuTemplate.url"></div> <!-- Contenido --> <div id="plotFermentationStatusBody" class="center vantainer" ng-init="plotFermentationStatusInitialize()"> <div class="valign"></div> <div class="venter"> <div id="plotFermentationStatusLoading"> <h5 style="cursor:default;margin-bottom:32px">Consultando los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="plotFermentationStatusTrouble" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="plotFermentationStatusRetryButton" ng-click="plotFermentationStatusRetry();"> Intentar nuevamente </button> </div> <div id="plotFermentationStatusContent" style="display:none"> <h4 id="plotFermentationStatusVineyard">Estado de Fermentacion</h4> <h5 id="plotFermentationStatusFermentation"></h5> </div> </div> </div>'),a.put("views/predictfermentation.html",'<!-- Navbar goes here --> <div ng-include="predictFermentation.menuTemplate.url"></div> <!-- Contenido --> <div id="predictFermentationBody" class="center vantainer" ng-init="predictFermentationInitialize()"> <div class="valign"></div> <div class="venter"> <div id="predictFermentationContent" style="display:none"> <h4>Predecir Fermentacion</h4> <table id="predictFermentationSelectContainer" class="center bordered custom-table"> <thead> <tr> <th class="center">Fermentacion</th> <th class="center">Horas</th> </tr> </thead> <tbody id="predictFermentationTablebody"> <tr> <td><select class="browser-default custom-select" id="predictFermentationFermentations" onchange="predictFermentationSetHours()"></select></td> <td><select disabled class="browser-default custom-select" id="predictFermentationHours" onchange="predictFermentationEnableButtons()"></select></td> </tr> </tbody> </table> <br> <button disabled class="waves-effect waves-light btn blue" style="margin:10px" id="predictFermentationSendButton" ng-click="predictFermentationSendRequest();"> Obtener prediccion </button> </div> <div id="predictFermentationPrepare"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="predictFermentationTrouble"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="predictFermentationRetryButton" ng-click="predictFermentationRetry();"> Intentar nuevamente </button> </div> <div id="predictFermentationLoading" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Consultando Prediccion...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> </div> </div>'),a.put("views/predictions.html",'<!-- Navbar goes here --> <div ng-include="predictions.menuTemplate.url"></div> <!-- Contenido --> <div id="content" class="center vantainer" ng-init="initializen()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="mainContent"> <h4>Tabla de Predicciones</h4> <table id="predictionContainer" class="center bordered custom-table"> <thead> <tr> <th class="center longboy">Fermentacion</th> <th class="center longboy">12 Horas</th> <th class="center longboy">24 Horas</th> <th class="center longboy">36 Horas</th> <th class="center longboy">48 Horas</th> </tr> </thead> <tbody id="tablebody"></tbody> </table> </div> </div> </div>'),a.put("views/selectchemicalvariables.html",'<!-- Navbar goes here --> <div ng-include="selectChemicalVariables.menuTemplate.url"></div> <!-- Contenido --> <div id="content" class="center vantainer" ng-init="initialize()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="processing"> <h5 style="cursor:default;margin-bottom:32px">Preparando consulta...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="mainContent"> <h4>Graficar Variables QuÃ­micas</h4> <table id="selectContainer" class="center bordered custom-table"> <thead> <tr> <th class="center">Fermentacion</th> <th class="center">Variable Quimica</th> </tr> </thead> <tbody id="tablebody"></tbody> </table> <br> <button class="waves-effect waves-light btn blue" style="margin:10px" id="addElement" ng-click="addElement();"> Agregar otro elemento </button> <button class="waves-effect waves-light btn blue" style="margin:10px" id="continuar" ng-click="continuar();"> Graficar </button> </div> </div> </div>'),a.put("views/settings.html",'<!-- Navbar goes here --> <div ng-include="settings.menuTemplate.url"></div> <!-- Contenido --> <div class="center" ng-init="settingsInitialize()"> <form style="display: inline-block;min-width: 600px; padding-top: 50px; cursor: default" ng-submit="saveMe();"> <h3 ng-style="{\'margin-bottom\':\'50px\'}">Settings</h3> <div class="row"> <input type="checkbox" id="enableCarouselCheckBox"> <label for="enableCarouselCheckBox" class="black-text" ng-style="{\'width\':\'400px\', \'text-align\':\'left\'}">Enable carousel itemization display</label> </div> <div class="row"> <input type="checkbox" id="enableBackgroundNotification"> <label for="enableCarouselCheckBox" class="black-text" ng-style="{\'width\':\'400px\', \'text-align\':\'left\'}">Enable background notification for predictions</label> </div> <button ng-style="{\'margin-top\':\'40px\'}" class="btn waves-effect waves-light blue" type="submit" name="action">Save Changes</button> </form> </div>'),a.put("views/statics.html","<p>This is the statics view.</p>")}]);