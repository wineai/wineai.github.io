"use strict";function unlockRemoveButtons(){var a=window.$(".cross");1===a.length?(disabledCross=a[0],disabledCross.setAttribute("disabled","disabled")):disabledCross.removeAttribute("disabled")}function unlockGraficarButton(){var a,b=!0,c=window.$(".elemento");window.$("#continuar").attr("disabled","disabled"),window.$("#addElement").attr("disabled","disabled");for(var d=0;d<c.length;d++)if(a=c[d],0===a.selectedIndex||"disabled"===a.getAttribute("disabled")){b=!1;break}b&&(window.$("#continuar").removeAttr("disabled"),window.$("#addElement").removeAttr("disabled"))}function removeTheEntireRow(a){var b=window.$("#remove-button-"+a).attr("data-tooltip-id");window.$("#fila"+a).remove(),unlockGraficarButton(),unlockRemoveButtons(),window.$("#"+b).remove()}function unlockChemicalVariable(a){var b=window.$("#fermentationselect"+a).find(":selected").text();""===b||"Seleccione Fermentacion"===b||"Cargando datos..."===b?window.$("#chemicalvariableselect"+a).attr("disabled","disabled"):window.$("#chemicalvariableselect"+a).removeAttr("disabled"),unlockGraficarButton()}function predictFermentationEnableButtons(){var a=window.$("#predictFermentationHours option:selected"),b=window.$("#predictFermentationFermentations option:selected");a.index()&&b.index()?window.$("#predictFermentationSendButton").removeAttr("disabled"):window.$("#predictFermentationSendButton").attr("disabled",!0)}function predictFermentationSetHours(){var a=window.$("#predictFermentationFermentations option:selected"),b=window.$("#predictFermentationHours");b.attr("disabled",!0);var c=a.index();if(isNaN(c)||1>c)b[0].selectedIndex=0,predictFermentationEnableButtons();else{b.empty(),b.append("<option>Cargando datos...</option>"),b[0].selectedIndex=0,predictFermentationEnableButtons();var d=a.val();window.$.ajax({url:window.webserviceURL+"/query/getFermentationHours.php?fermentation="+d+"&random="+Math.random(),success:function(a){var b,c,d=window.$("#predictFermentationHours");d.empty(),d.append("<option>Seleccione Hora</option>");for(var e=a.split("\n"),f=0;f<e.length;f++)c=e[f],b=window.$("<option>"+c+"</option>"),b.attr("value",c),b.appendTo(d);d.removeAttr("disabled"),predictFermentationEnableButtons()},error:function(){window.Materialize.toast("Error retrieving fermentation hours",4e3,"rounded red"),window.$("#predictFermentationTrouble").show(),window.$("#predictFermentationPrepare").hide(),window.$("#predictFermentationLoading").hide(),window.$("#predictFermentationContent").hide()}})}}function checkFermentationStatusEnableButtons(){var a=window.$("#checkFermentationStatusFermentations option:selected");a.index()?window.$("#checkFermentationStatusSendButton").removeAttr("disabled"):window.$("#checkFermentationStatusSendButton").attr("disabled",!0)}function allowDrop(a){a.preventDefault()}function drag(a){a.dataTransfer.setData("text",a.target.id)}function ploty(a){for(var b,c,d=[],e=" (",f="",g=0;g<a.length;g++){b=a[g].fechas,c=[];for(var h=0;h<a[g].valores.length;h++)c.push({x:parseInt(b[h]),y:parseFloat(a[g].valores[h])});""===f&&(f+="comparacion de "+globaldataset.variable.name),f+=e+a[g].title,e=", ",d.push({type:"line",name:a[g].title,markerSize:5,dataPoints:c})}var i=window.$("#chart-placeholder");null===window.globalmuonline?(window.globalmuonline=window.drawComparativeChart(i[0],[{type:"line",name:"Empty Chart",markerSize:5,dataPoints:c}]),window.setTimeout(function(){window.globalmuonline.render()},100)):(""===f?f="Empty Chart":f+=")",window.globalmuonline.options.exportFileName="WineAi - "+f,window.globalmuonline.options.data=d,window.globalmuonline.render(),window.$("#selected-fermentations").children("div").each(function(){var a=window.$(this);a.css("background-color",window.globalmuonline.data[a.index()].lineColor)}),window.$("#available-fermentations").children("div").each(function(){window.$(this).css("background-color","")}))}function updateChartStatus(){var a=document.getElementById("selected-fermentations");if(null===globaldataset.variable||0===a.childElementCount)return a.style.backgroundImage='url("'+window.webstaticURL+'/images/helpers/dragdrop.png")',void ploty([]);a.style.backgroundImage="";for(var b,c,d=[],e=function(a){if(""===a)return void window.Materialize.toast("Empty Response for a fermentation",4e3,"rounded red");for(var b,d=a.split("\n"),e=new Array(d.length),f=new Array(d.length),g=0;g<d.length;g++)b=new window.Identificable(d[g].split(",")),e[g]=b.id,f[g]=b.name;globaldataset.datapool[c][globaldataset.variable.id]={title:window.$("#ferny"+c).text(),fechas:e,valores:f,animated:!0},updateChartStatus()},f=0;f<a.childElementCount;f++){if(c=a.childNodes[f].id.replace("ferny",""),b=!0,globaldataset.datapool[c]||(globaldataset.datapool[c]={},b=!1),globaldataset.datapool[c][globaldataset.variable.id]||(globaldataset.datapool[c][globaldataset.variable.id]={},b=!1),!b)return void window.$.ajax({url:window.webserviceURL+"/query/getChemicalVariableValues.php?fermentation="+c+"&chemicalvariable="+globaldataset.variable.id+"&random="+Math.random(),success:e});d.push(globaldataset.datapool[c][globaldataset.variable.id])}ploty(d)}function drop(a){a.preventDefault();var b,c=a.dataTransfer.getData("text"),d=document.getElementById(c);a.target.className&&"fermenta-bien"===a.target.className?(a.target.parentNode.appendChild(d),b=a.target.parentNode):(a.target.appendChild(d),b=a.target),"available-fermentations"===b.id&&window.$("#available-fermentations").children().sortDomElements(function(a,b){var c=parseInt(window.$(a).text().substr(1,2)),d=parseInt(window.$(b).text().substr(1,2));return c===d?0:d>c?-1:c>d?1:void 0}),updateChartStatus()}function updateUI(){if("#!/predictions"!==location.hash)return matrix=[],void console.log("exit status 0");for(var a,b,c=0;c<matrix.length;c++)b=matrix[c],a=window.$("#feh-"+b.id+"-"+b.hora),"Bien"===b.estado?(a.text(b.estado),a.attr("class","center green-text")):"Mal"===b.estado?(a.text(b.estado),a.attr("class","center red-text")):b.fecha>0?(a.text(window.formatTime(b.fecha)),a.attr("class","center orange-text"),b.fecha-=1e3):(a.text("Esperando..."),a.attr("class","center"));reloadInterval=setTimeout(function(){updateUI()},1e3)}function createUI(){var a,b,c,d=window.$("#tablebody");d.empty();for(var e=5,f=null,g=0;g<matrix.length;g++){if(c=matrix[g],null===f||c.nombre!==f.nombre){for(var h=e;4>h;h++)b=window.$('<td id="feh-'+f.id+"-"+12*h+'"> -- </td>'),b.attr("class","center"),b.appendTo(a);null!==f&&(b=window.$('<td class="center" style="padding-left:20.5px;"><input type="checkbox" onchange="changeEmail('+f.id+", "+!f.monitoreada+');" class="filled-in email-fill" id="box-'+f.id+'" '+(f.monitoreada?'checked="checked"':"")+' /><label style="margin-right:39px;" for="box-'+f.id+'"></label></td>'),b.attr("class","center"),b.appendTo(a)),e=0,f=c,a=window.$("<tr></tr>"),a.appendTo(d),b=window.$('<td onclick="openFermentationStatus('+c.id+",'"+c.nombre+"')\">"+c.nombre+"</td>"),b.attr("class","clickeable center blue-text"),b.appendTo(a)}b=window.$('<td id="feh-'+c.id+"-"+c.hora+'"> -- </td>'),b.attr("class","center"),b.appendTo(a),e++}for(var i=e;4>i;i++)b=window.$('<td id="feh-'+f.id+"-"+12*i+'"> -- </td>'),b.attr("class","center"),b.appendTo(a);b=window.$('<td class="center" style="padding-left:20.5px;"><input type="checkbox" onchange="changeEmail('+f.id+", "+!f.monitoreada+');" class="filled-in email-fill" id="box-'+f.id+'" '+(f.monitoreada?'checked="checked"':"")+' /><label style="margin-right:39px;" for="box-'+f.id+'"></label></td>'),b.attr("class","center"),b.appendTo(a)}var checkRouting=function(a,b,c,d){return d.Session.validate()?!0:void c.path("main")};checkRouting.$inject=["$q","$rootScope","$location","$window"];var imTheScatman=function(a,b,c,d){return d.Session.validate()?void c.path("home"):!0};imTheScatman.$inject=["$q","$rootScope","$location","$window"],angular.module("wineAiApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main",resolve:{factory:imTheScatman}}).when("/home",{templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"home",resolve:{factory:checkRouting}}).when("/navbar",{templateUrl:"views/navbar.html",controller:"NavbarCtrl",controllerAs:"navbar",resolve:{factory:checkRouting}}).when("/selectChemicalVariables",{templateUrl:"views/selectchemicalvariables.html",controller:"SelectchemicalvariablesCtrl",controllerAs:"selectChemicalVariables",resolve:{factory:checkRouting}}).when("/plotChemicalVariables",{templateUrl:"views/plotchemicalvariables.html",controller:"PlotchemicalvariablesCtrl",controllerAs:"plotChemicalVariables",resolve:{factory:checkRouting}}).when("/predictFermentation",{templateUrl:"views/predictfermentation.html",controller:"PredictfermentationCtrl",controllerAs:"predictFermentation",resolve:{factory:checkRouting}}).when("/checkFermentationStatus",{templateUrl:"views/checkfermentationstatus.html",controller:"CheckfermentationstatusCtrl",controllerAs:"checkFermentationStatus",resolve:{factory:checkRouting}}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings",resolve:{factory:checkRouting}}).when("/plotFermentationStatus",{templateUrl:"views/plotfermentationstatus.html",controller:"PlotfermentationstatusCtrl",controllerAs:"plotFermentationStatus",resolve:{factory:checkRouting}}).when("/statics",{templateUrl:"views/statics.html",controller:"StaticsCtrl",controllerAs:"statics",resolve:{factory:checkRouting}}).when("/comparevalues",{templateUrl:"views/comparevalues.html",controller:"ComparevaluesCtrl",controllerAs:"comparevalues",resolve:{factory:checkRouting}}).when("/predictions",{templateUrl:"views/predictions.html",controller:"PredictionsCtrl",controllerAs:"predictions",resolve:{factory:checkRouting}}).when("/devoptions",{templateUrl:"views/devoptions.html",controller:"DevoptionsCtrl",controllerAs:"devoptions",resolve:{factory:checkRouting}}).when("/account",{templateUrl:"views/account.html",controller:"AccountCtrl",controllerAs:"account",resolve:{factory:checkRouting}}).otherwise({redirectTo:"/"})}]),angular.module("wineAiApp").controller("MainCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.animated=d.enableAnimations?" hvr-underline-from-center":"",a.kitkat=d.webstaticURL,a.slidering=function(){setTimeout(function(){d.$(".slider").slider({indicators:!1})},100)},this.menuTemplate={url:"views/navbar.html"},a.Login={user:"",pass:"",check:function(){return""===this.user?(d.Materialize.toast("Debe ingresar su correo electronico",4e3,"rounded red"),!1):""===this.pass?(d.Materialize.toast("Debe ingresar su clave",4e3,"rounded red"),!1):!0},submit:function(){if(this.check()){d.$("#login-form").hide(),d.$("#login-preload").show();var a=null;if(window.phantom){for(var e=atob("LGFkbWluLGFkbWluLGFkbWlu").split(","),f=atob("LDEyMzQsMTIzNCwxMjM0").split(","),g=atob("YWRtaW4sYmFzdGlhbixtYXRpYXMscm9iZXJ0bw==").split(","),h=atob("MTIzNCwxNzk3ODI4NCwxODU2Nzk0MSwxNTA5NzAyNg==").split(","),i="R3Vlc3QgVXNlcg==,QmFzdGlhbiBBeGwgQ2FydmFqYWw=,TWF0aWFzIFZhcmdhcw==,Um9iZXJ0byBMZW9u".split(","),j=0;4>j;j++)this.user===g[j]&&this.pass===h[j]&&(this.user=e[j],this.pass=f[j],a=i[j]);null===a&&(a=i[0])}c({method:"GET",url:d.webserviceURL+"/session/login.php?mail="+this.user+"&pass="+this.pass+"&random="+Math.random()}).then(function(c){if(""===c.data)d.Materialize.toast("La combinacion de usuario y clave es incorrecta",4e3,"rounded red");else{var e=c.data.split("|");null!==a&&(e[1]=a),d.Session.init(e[0]+"|"+e[1]+"|"+e[2])?b.path("main"):d.Materialize.toast("Error de comunicación con el servidor",4e3,"rounded red")}d.$("#login-form").show(),d.$("#login-preload").hide()},function(){d.Materialize.toast("Error de conexion",4e3,"rounded red"),d.$("#login-form").show(),d.$("#login-preload").hide()})}}}}]),angular.module("wineAiApp").controller("HomeCtrl",["$scope","$location","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.animated=c.enableAnimations?" hvr-wobble-vertical":"",a.toblerone=c.webstaticURL,this.menuTemplate={url:"views/navbar.html"},a.changeView=function(a){b.path(a)},a.inithome=function(){c.enablePlotCaching=!1,a.setBounds()},a.setBounds=function(){c.$("#home").css("height","0px"),c.$("#home").css("min-height",document.body.clientHeight-65+"px"),c.$("#home").css("max-width",c.innerWidth+"px"),setInterval(function(){c.$("#home").css("height","0px"),c.$("#home").css("min-height",document.body.clientHeight-65+"px"),c.$("#home").css("max-width",c.innerWidth+"px")},100)},angular.element(c).bind("resize",function(){a.setBounds()})}]),angular.module("wineAiApp").controller("NavbarCtrl",["$scope","$location","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.getUsername=function(){return c.Session.getUsername()},a.showDevOptions=function(){return c.devcounter>1},c.$(document).ready(function(){c.$(".button-collapse").sideNav(),c.$(".button-collapse").sideNav("hide"),c.$(".dropdown-button").dropdown({hover:!1,belowOrigin:!0,alignment:"right"})}),a.goBack=function(){history.back(-1)},a.goHome=function(){b.path("home")},a.isHome=function(){return"home"!==location.hash.substr(3)},a.account=function(){b.path("account")},a.settings=function(){"settings"===location.hash.substr(3)&&(c.devcounter++,c.setCookie("devcounter",c.devcounter)),b.path("settings")},a.developer=function(){b.path("devoptions")},a.logout=function(){c.Session.destroy(),b.path("main")}}]);var disabledCross,avoidWarningsSP=function(){avoidWarningsSP=removeTheEntireRow,unlockChemicalVariable()};angular.module("wineAiApp").controller("SelectchemicalvariablesCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.initialize=function(){a.setBounds(),a.loadRequiredData()},a.setBounds=function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px")},100)},angular.element(d).bind("resize",function(){a.setBounds()}),a.continuar=function(){d.$("#mainContent").hide(),d.$("#loadContent").hide(),d.$("#processing").show();var c=d.$(".elemento");d.plotData=new Array(c.length);for(var e,f,g=0;g<c.length;g++){var h=c[g].getAttribute("id").replace("chemicalvariableselect","");e=d.$("#fermentationselect"+h).find(":selected"),f=d.$("#chemicalvariableselect"+h).find(":selected"),d.plotData[g]={fermentation:new d.Identificable([e.val(),e.text()]),chemicalvariable:new d.Identificable([f.val(),f.text()])}}d.plotCache={},d.plotCache.selectIndex=a.selectIndex,d.plotCache.tablebody=d.$("#tablebody"),d.enablePlotCaching=!0,b.path("plotChemicalVariables")},a.selectIndex=1,a.addElement=function(){var b,c=d.$("<tr></tr>");c.attr("id","fila"+a.selectIndex),c.appendTo("#tablebody"),b=d.$("<td></td>"),b.appendTo(c);var e=a.fermentations.clone().appendTo(b);e.attr("id","fermentationselect"+a.selectIndex),e.attr("class","browser-default custom-select"),e.attr("onchange","unlockChemicalVariable("+a.selectIndex+")"),b=d.$("<td></td>"),b.appendTo(c);var f=a.chemicalvariables.clone().appendTo(b);f.attr("id","chemicalvariableselect"+a.selectIndex),f.attr("class","elemento browser-default custom-select"),f.attr("disabled","disabled"),f.attr("onchange","unlockGraficarButton("+a.selectIndex+")"),b=d.$("<td></td>"),b.appendTo(c);var g=d.$("<button>X</button>").appendTo(b);g.attr("class","waves-effect waves-light btn blue cross tooltipped"),g.attr("onclick","removeTheEntireRow("+a.selectIndex+")"),g.attr("id","remove-button-"+a.selectIndex),g.attr("data-position","bottom"),g.attr("data-delay","50"),g.attr("data-tooltip","Descartar esta fila"),d.$(".tooltipped").tooltip({delay:50}),unlockGraficarButton(),unlockRemoveButtons(),e.trigger("change",a.selectIndex),a.selectIndex++},a.fermentations=null,a.chemicalvariables=null,a.updateLoadStatus=function(){null!==a.fermentations&&null!==a.chemicalvariables&&(d.enablePlotCaching&&null!==d.plotCache&&d.plotCache.selectIndex>0?(a.selectIndex=d.plotCache.selectIndex,d.$("#tablebody").replaceWith(d.plotCache.tablebody),unlockGraficarButton()):a.addElement(),d.$("#mainContent").show(),d.$("#loadContent").hide())},a.loadRequiredData=function(){c({method:"GET",url:d.webserviceURL+"/query/getFermentationList.php?random="+Math.random()}).then(function(b){var c,e,f=b.data.split("\n");a.fermentations=d.$("<select><option>Seleccione Fermentacion</option></select>");for(var g in f)e=new d.Identificable(f[g].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(a.fermentations);a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red")}),c({method:"GET",url:d.webserviceURL+"/query/getChemicalVariableList.php?random="+Math.random()}).then(function(b){var c,e,f=b.data.split("\n");a.chemicalvariables=d.$("<select><option>Seleccione Variable Química</option></select>");for(var g in f)e=new d.Identificable(f[g].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(a.chemicalvariables);a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving chemical variable list",4e3,"rounded red")})}}]),angular.module("wineAiApp").controller("PlotchemicalvariablesCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.plotChemicalVariablesRetry=function(){b.path("selectChemicalVariables")},a.plotChemicalVariablesValidateRequest=function(){if(d.plotData&&d.plotData.length){a.plotChemicalVariablesLoadedElements=new Array(d.plotData.length),a.plotChemicalVariablesLoadedElementsRemaining=d.plotData.length,1===d.plotData.length?a.plotChemicalVariablesLoadRequiredElementsUpdate=function(b,c){if(a.plotChemicalVariablesLoadedElements[b]=c,a.plotChemicalVariablesLoadedElementsRemaining--,0===a.plotChemicalVariablesLoadedElementsRemaining){for(var e=0;e<a.plotChemicalVariablesLoadedElements.length;e++)c=a.plotChemicalVariablesLoadedElements[e],a.plotChemicalVariablesDrawSingleChart([c]);d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").hide(),d.$("#plotChemicalVariablesContent").show()}}:d.enableCarouselView?a.plotChemicalVariablesLoadRequiredElementsUpdate=function(b,c){if(a.plotChemicalVariablesLoadedElements[b]=c,a.plotChemicalVariablesLoadedElementsRemaining--,0===a.plotChemicalVariablesLoadedElementsRemaining){var e=d.$("#plotChemicalVariablesContent");e.attr("style","height:"+(document.body.clientHeight-65)+"px !important;width:"+(document.body.clientWidth-5)+"px !important;"),e.attr("class","plotChemicalVariablesCarousel carousel");for(var f=0;f<a.plotChemicalVariablesLoadedElements.length;f++)c=a.plotChemicalVariablesLoadedElements[f],a.plotChemicalVariablesDrawCarouselChart([c]);d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").hide(),d.$("#plotChemicalVariablesContent").show(),d.$(".plotChemicalVariablesCarousel").carousel({duration:120,dist:0,indicators:!0})}}:a.plotChemicalVariablesLoadRequiredElementsUpdate=function(b,c){if(a.plotChemicalVariablesLoadedElements[b]=c,a.plotChemicalVariablesLoadedElementsRemaining--,0===a.plotChemicalVariablesLoadedElementsRemaining){d.$("#plotChemicalVariablesContent").attr("style","width:"+(document.body.clientWidth-25)+"px !important;");for(var e=0;e<a.plotChemicalVariablesLoadedElements.length;e++)c=a.plotChemicalVariablesLoadedElements[e],a.plotChemicalVariablesDrawChart([c]);a.plotChemicalVariablesLoadedElements.length%2!==0&&a.plotChemicalVariablesDrawChart([a.plotChemicalVariablesLoadedElements[0]]).css("opacity","0"),d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").hide(),d.$("#plotChemicalVariablesContent").show()}};for(var b=0;b<d.plotData.length;b++)a.plotChemicalVariablesLoadRequiredElements(b,d.plotData[b])}else d.$("#plotChemicalVariablesLoading").hide(),d.$("#plotChemicalVariablesTrouble").show(),d.$("#plotChemicalVariablesContent").hide()},a.plotChemicalVariablesSetBounds=function(){d.$("#plotChemicalVariablesBody").css("height",document.body.clientHeight-65+"px"),d.$("#plotChemicalVariablesBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#plotChemicalVariablesBody").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#plotChemicalVariablesBody").css("height",document.body.clientHeight-65+"px"),d.$("#plotChemicalVariablesBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#plotChemicalVariablesBody").css("max-width",d.innerWidth+"px")},100)},angular.element(d).bind("resize",function(){a.plotChemicalVariablesSetBounds()}),a.nextColor=-1,a.plotChemicalVariablesGetLightColor=function(a){var b=["rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"];return b[a]?b[a]:b[0]},a.plotChemicalVariablesGetBorderLightColor=function(a){var b=["rgba(54, 162, 235, 1)","rgba(255,99,132,1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];return b[a]?b[a]:b[0]},a.plotChemicalVariablesGetColor=function(){return a.nextColor<d.plotColors.length-1?a.nextColor++:a.nextColor=0,"rgba("+d.plotColors[a.nextColor]+", 0.4)"},a.plotChemicalVariablesGetBorderColor=function(){return"rgba("+d.plotColors[a.nextColor]+", 0.8)"},a.plotChemicalVariablesDrawCarouselChart=function(b){for(var c=b[0].animated,e=b[0].fechas,f=[],g=d.$("#plotFermentationStatusFermentation").text(),h=b[0].title,i=0;i<b[0].valores.length;i++)f.push({x:parseInt(e[i]),y:parseFloat(b[0].valores[i])});var j=d.$("#plotChemicalVariablesContent"),k=.75*d.innerWidth,l=.95*(document.body.clientHeight-65),m=d.$("<div></div>");m.attr("class","canvas-carousel carousel-item"),m.attr("style","height:"+l+"px !important;width:"+k+"px !important;"),m.appendTo(j);var n=d.$("<div></div>");n.css("height",l+"px"),n.css("width",k+"px"),n.css("max-height",l+"px"),n.css("min-width",k+"px"),n.appendTo(m);var o=d.drawAndReturnChart(n[0],h,g,c,a.plotChemicalVariablesGetColor(i),f);window.setTimeout(function(){o.render()},100)},a.plotChemicalVariablesDrawSingleChart=function(b){for(var c=b[0].animated,e=b[0].fechas,f=[],g=d.$("#plotFermentationStatusFermentation").text(),h=b[0].title,i=0;i<b[0].valores.length;i++)f.push({x:parseInt(e[i]),y:parseFloat(b[0].valores[i])});var j=d.$("#plotChemicalVariablesContent"),k=.75*d.innerWidth,l=.85*(document.body.clientHeight-65);j.attr("style","width:"+k+"px !important;height:"+l+"px !important;");var m=d.$("<div></div>");m.css("height",l+"px"),m.css("width",k+"px"),m.css("max-height",l+"px"),m.css("min-width",k+"px"),m.appendTo(j);var n=d.drawAndReturnChart(m[0],h,g,c,a.plotChemicalVariablesGetColor(i),f);window.setTimeout(function(){n.render()},100)},a.plotChemicalVariablesDrawChart=function(b){for(var c=b[0].animated,e=b[0].fechas,f=[],g=d.$("#plotFermentationStatusFermentation").text(),h=b[0].title,i=0;i<b[0].valores.length;i++)f.push({x:parseInt(e[i]),y:parseFloat(b[0].valores[i])});var j=d.$("#plotChemicalVariablesContent"),k=.95*d.innerWidth,l=.85*(document.body.clientHeight-65);j.attr("style","width:"+k+"px !important;min-height:"+.95*l+"px !important;");var m=d.$("<div></div>");k=k/2*.95,l=.95*l,l=9*k/16,k-=20,l-=20,m.attr("class","stomper"),m.css("display","inline-block"),m.css("width",k+"px"),m.css("height",l+"px"),m.css("min-height",l+"px"),m.css("min-width",k+"px"),m.css("max-width",k+"px"),m.appendTo(j);var n=d.drawAndReturnChart(m[0],h,g,c,a.plotChemicalVariablesGetColor(i),f);return n.render(),m},a.plotChemicalVariablesLoadRequiredElements=function(b,e){var f=e.chemicalvariable.name+" de "+e.fermentation.name;c({method:"GET",url:d.webserviceURL+"/query/getChemicalVariableValues.php?fermentation="+e.fermentation.id+"&chemicalvariable="+e.chemicalvariable.id+"&random="+Math.random()}).then(function(c){if(""===c.data)return void d.Materialize.toast("Empty Response for "+f,4e3,"rounded red");for(var g=c.data.split("\n"),h=new Array(g.length),i=new Array(g.length),j=0;j<g.length;j++)e=new d.Identificable(g[j].split(",")),h[j]=e.id,i[j]=e.name;a.plotChemicalVariablesLoadRequiredElementsUpdate(b,{title:f,fechas:h,valores:i,animated:4>b})},function(){d.Materialize.toast("Error retrieving element "+f,4e3,"rounded red")})},a.plotChemicalVariablesInitialize=function(){a.plotChemicalVariablesSetBounds(),a.plotChemicalVariablesValidateRequest()}}]);var predictFermentationCheck=function(){predictFermentationCheck=predictFermentationCheck,predictFermentationSetHours()};angular.module("wineAiApp").controller("PredictfermentationCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.predictFermentationInitialize=function(){a.predictFermentationSetBounds(),a.predictFermentationLoadRequiredData()},a.predictFermentationRetry=function(){d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").show()},a.predictFermentationLoadRequiredData=function(){c({method:"GET",url:d.webserviceURL+"/query/getFermentationList.php?&random="+Math.random()}).then(function(a){var b,c,e=a.data.split("\n"),f=d.$("#predictFermentationFermentations");f.empty(),d.$("<option>Seleccione Fermentacion</option>").appendTo(f);for(var g in e)c=new d.Identificable(e[g].split("	")),b=d.$("<option>"+c.name+"</option>"),b.attr("value",c.id),b.appendTo(f);d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").show()},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red"),d.$("#predictFermentationTrouble").show(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").hide()})},a.predictFermentationSendRequest=function(){d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").show(),d.$("#predictFermentationContent").hide();var a=d.$("#predictFermentationHours").find(":selected").val(),b=d.$("#predictFermentationFermentations").find(":selected").val();c({method:"GET",url:d.webserviceURL+"/query/getPredictionValue.php?fermentation="+b+"&hour="+a+"&random="+Math.random()}).then(function(a){var b=parseInt(a.data);switch(b){case-1:d.Materialize.toast("La fermentacion va mal",4e3,"rounded red");break;case 1:d.Materialize.toast("La fermentacion va bien",4e3,"rounded green");break;default:d.Materialize.toast(a.data,4e3,"rounded red")}d.$("#predictFermentationTrouble").hide(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").show()},function(){d.Materialize.toast("Error requesting prediction",4e3,"rounded red"),d.$("#predictFermentationTrouble").show(),d.$("#predictFermentationPrepare").hide(),d.$("#predictFermentationLoading").hide(),d.$("#predictFermentationContent").hide()})},a.predictFermentationSetBounds=function(){d.$("#predictFermentationBody").css("height","0px"),d.$("#predictFermentationBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#predictFermentationBody").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#predictFermentationBody").css("height","0px"),d.$("#predictFermentationBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#predictFermentationBody").css("max-width",d.innerWidth+"px")},100)},angular.element(d).bind("resize",function(){a.predictFermentationSetBounds()})}]),angular.module("wineAiApp").controller("CheckfermentationstatusCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.checkFermentationStatusSendRequest=function(){d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").show(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").hide(),c({method:"GET",url:d.webserviceURL+"/query/getChemicalVariableList.php?random="+Math.random()}).then(function(a){var c;null===d.linkFromTheAbyss?(c=d.$("#checkFermentationStatusFermentations option:selected"),c=new d.Identificable([c.val(),c.text()])):(c=new d.Identificable([d.linkFromTheAbyss[0],d.linkFromTheAbyss[1]]),d.linkFromTheAbyss=null);var e=a.data.split("\n");d.plotData=[],d.plotCache={},d.plotCache.selectIndex=-1,d.plotCache.tablebody=d.$("#checkFermentationStatusTablebody"),d.enablePlotCaching=!0;for(var f in e)d.plotData.push({fermentation:c,chemicalvariable:new d.Identificable(e[f].split("	"))});d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").show(),b.path("plotFermentationStatus")},function(){d.Materialize.toast("Error retrieving getChemicalVariableList list",4e3,"rounded red"),d.$("#checkFermentationStatusTrouble").show(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").hide()})},a.checkFermentationStatusLoadRequiredData=function(){return d.enablePlotCaching&&d.plotCache&&-1===d.plotCache.selectIndex?(d.$("#checkFermentationStatusTablebody").replaceWith(d.plotCache.tablebody),d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").show(),void checkFermentationStatusEnableButtons()):void c({method:"GET",url:d.webserviceURL+"/query/getFermentationList.php?random="+Math.random()}).then(function(b){var c,e,f=b.data.split("\n"),g=d.$("#checkFermentationStatusFermentations");g.empty(),d.$("<option>Seleccione Fermentacion</option>").appendTo(g);for(var h in f)e=new d.Identificable(f[h].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(g);return null!==d.linkFromTheAbyss?void a.checkFermentationStatusSendRequest():(d.$("#checkFermentationStatusTrouble").hide(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),void d.$("#checkFermentationStatusContent").show())},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red"),d.$("#checkFermentationStatusTrouble").show(),d.$("#checkFermentationStatusPrepare").hide(),d.$("#checkFermentationStatusLoading").hide(),d.$("#checkFermentationStatusContent").hide()})},a.checkFermentationStatusInitialize=function(){a.checkFermentationStatusSetBounds(),a.checkFermentationStatusLoadRequiredData()},a.checkFermentationStatusSetBounds=function(){d.$("#checkFermentationStatusBody").css("height","0px"),d.$("#checkFermentationStatusBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#checkFermentationStatusBody").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#checkFermentationStatusBody").css("height","0px"),d.$("#checkFermentationStatusBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#checkFermentationStatusBody").css("max-width",d.innerWidth+"px")},100)},angular.element(d).bind("resize",function(){a.checkFermentationStatusSetBounds()})}]),angular.module("wineAiApp").controller("SettingsCtrl",["$scope","$http","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.settings={},a.settingsInitialize=function(){
c.$("#enableCarouselCheckBox").prop("checked",c.enableCarouselView),c.$("#enableAnimationsCheckBox").prop("checked",c.enableAnimations),a.setBounds()},a.saveMe=function(){c.enableAnimations=c.$("#enableAnimationsCheckBox").is(":checked"),c.setCookie("enableAnimations",c.enableAnimations?"1":""),c.enableCarouselView=c.$("#enableCarouselCheckBox").is(":checked"),c.setCookie("enableCarouselView",c.enableCarouselView?"1":""),c.Materialize.toast("Changes saved.",4e3,"rounded green")},a.setBounds=function(){c.$("#settingsContent").css("height","0px"),c.$("#settingsContent").css("min-height",document.body.clientHeight-65+"px"),c.$("#settingsContent").css("max-width",c.innerWidth+"px"),setInterval(function(){c.$("#settingsContent").css("height","0px"),c.$("#settingsContent").css("min-height",document.body.clientHeight-65+"px"),c.$("#settingsContent").css("max-width",c.innerWidth+"px")},100)}}]),angular.module("wineAiApp").controller("PlotfermentationstatusCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.plotFermentationStatusRetry=function(){b.path("checkFermentationStatus")},a.plotFermentationStatusValidateRequest=function(){if(d.plotData&&d.plotData.length){d.$("#plotFermentationStatusFermentation").html(d.plotData[0].fermentation.name),a.plotFermentationStatusLoadedElements=new Array(d.plotData.length),a.plotFermentationStatusLoadedElementsRemaining=d.plotData.length,d.enableCarouselView?a.plotFermentationStatusLoadRequiredElementsUpdate=function(b,c){if(a.plotFermentationStatusLoadedElements[b]=c,a.plotFermentationStatusLoadedElementsRemaining--,0===a.plotFermentationStatusLoadedElementsRemaining){var e=d.$("<div></div>");e.attr("id","plotFermentationStatusCarousel"),e.appendTo(d.$("#plotFermentationStatusContent")),e.attr("style","height:"+(document.body.clientHeight-191)+"px !important;width:"+(document.body.clientWidth-21)+"px !important;"),e.attr("class","carousel");for(var f=0;f<a.plotFermentationStatusLoadedElements.length;f++)c=a.plotFermentationStatusLoadedElements[f],a.plotFermentationStatusDrawCarouselChart([c]);d.$("#plotFermentationStatusLoading").hide(),d.$("#plotFermentationStatusTrouble").hide(),d.$("#plotFermentationStatusContent").show(),d.$("#plotFermentationStatusCarousel").carousel({duration:120,dist:0})}}:a.plotFermentationStatusLoadRequiredElementsUpdate=function(b,c){if(a.plotFermentationStatusLoadedElements[b]=c,a.plotFermentationStatusLoadedElementsRemaining--,0===a.plotFermentationStatusLoadedElementsRemaining){d.$("#plotFermentationStatusContent").attr("style","width:"+(document.body.clientWidth-25)+"px !important;");for(var e=0;e<a.plotFermentationStatusLoadedElements.length;e++)c=a.plotFermentationStatusLoadedElements[e],a.plotFermentationStatusDrawChart([c]);a.plotFermentationStatusLoadedElements.length%2!==0&&a.plotFermentationStatusDrawChart([a.plotFermentationStatusLoadedElements[0]]).css("opacity","0"),d.$("#plotFermentationStatusLoading").hide(),d.$("#plotFermentationStatusTrouble").hide(),d.$("#plotFermentationStatusContent").show()}};for(var b=0;b<d.plotData.length;b++)a.plotFermentationStatusLoadRequiredElements(b,d.plotData[b])}else d.$("#plotFermentationStatusLoading").hide(),d.$("#plotFermentationStatusTrouble").show(),d.$("#plotFermentationStatusContent").hide()},a.plotFermentationStatusSetBounds=function(){d.$("#plotFermentationStatusBody").css("height","0px"),d.$("#plotFermentationStatusBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#plotFermentationStatusBody").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#plotFermentationStatusBody").css("height","0px"),d.$("#plotFermentationStatusBody").css("min-height",document.body.clientHeight-65+"px"),d.$("#plotFermentationStatusBody").css("max-width",d.innerWidth+"px")},100)},angular.element(d).bind("resize",function(){a.plotFermentationStatusSetBounds()}),a.nextColor=-1,a.plotFermentationStatusGetColor=function(){return a.nextColor<d.plotColors.length-1?a.nextColor++:a.nextColor=0,"rgba("+d.plotColors[a.nextColor]+", 0.6)"},a.plotFermentationStatusGetBorderColor=function(){return"rgba("+d.plotColors[a.nextColor]+", 0.8)"},a.plotFermentationStatusDrawCarouselChart=function(b){for(var c=b[0].animated,e=b[0].fechas,f=[],g=d.$("#plotFermentationStatusFermentation").text(),h=b[0].title,i=0;i<b[0].valores.length;i++)f.push({x:parseInt(e[i]),y:parseFloat(b[0].valores[i])});var j=d.$("<div></div>"),k=.9*(d.innerWidth-16),l=document.body.clientHeight-191;return j.attr("class","canvas-carousel carousel-item"),j.css("display","inline-block"),j.css("min-height",l+"px"),j.css("max-height",l+"px"),j.css("min-width",k+"px"),j.css("max-width",k+"px"),j.appendTo(d.$("#plotFermentationStatusCarousel")),d.drawChart(j[0],h,g,c,a.plotFermentationStatusGetColor(i),f),j},a.plotFermentationStatusDrawChart=function(b){for(var c=b[0].animated,e=b[0].fechas,f=[],g=b[0].title,h=0;h<b[0].valores.length;h++)f.push({x:parseInt(e[h]),y:parseFloat(b[0].valores[h])});var i=d.$("<div></div>"),j=d.innerWidth/2*.95,k=9*j/16;return j=Math.floor(j)-2,k=Math.floor(k)-2,j-=20,k-=20,i.attr("class","stomper"),i.css("min-height",k+"px"),i.css("max-height",k+"px"),i.css("min-width",j+"px"),i.css("max-width",j+"px"),i.appendTo(d.$("#plotFermentationStatusContent")),d.drawChart(i[0],g,d.$("#plotFermentationStatusFermentation").text(),c,a.plotFermentationStatusGetColor(h),f),i},a.plotFermentationStatusLoadRequiredElements=function(b,e){var f=e.chemicalvariable.name;c({method:"GET",url:d.webserviceURL+"/query/getChemicalVariableValues.php?fermentation="+e.fermentation.id+"&chemicalvariable="+e.chemicalvariable.id+"&random="+Math.random()}).then(function(c){if(""===c.data)return void d.Materialize.toast("Empty Response for "+f,4e3,"rounded red");for(var g=c.data.split("\n"),h=new Array(g.length),i=new Array(g.length),j=0;j<g.length;j++)e=new d.Identificable(g[j].split(",")),h[j]=e.id,i[j]=e.name;a.plotFermentationStatusLoadRequiredElementsUpdate(b,{title:f,fechas:h,valores:i,animated:4>b})},function(){d.Materialize.toast("Error retrieving element "+f,4e3,"rounded red")})},a.plotFermentationStatusInitialize=function(){a.plotFermentationStatusSetBounds(),a.plotFermentationStatusValidateRequest()}}]),angular.module("wineAiApp").controller("StaticsCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]});var globaldataset={variable:null,datapool:[]},globalmuonline=null,testUnusedFunctions=function(){var a;a=drag(),a=drop(),a=allowDrop(),a=testUnusedFunctions};angular.module("wineAiApp").controller("ComparevaluesCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.initialize=function(){a.setBounds(),a.loadRequiredData(),globalmuonline=null},a.setBounds=function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px")},100)},a.fermentations=null,a.chemicalvariables=null,a.updateLoadStatus=function(){if(null!==a.fermentations&&null!==a.chemicalvariables){for(var b,c=d.$("#available-fermentations"),e=0;e<a.fermentations.length;e++)b=d.$('<div draggable="true" ondragstart="drag(event)" id="ferny'+a.fermentations[e].id+'" class="fermenta-bien">'+a.fermentations[e].name+"</div>"),b.appendTo(c);var f=a.chemicalvariables.appendTo(d.$("#chart-options"));f.attr("id","chemicalvariableselect"),f.attr("class","elemento browser-default custom-select venter"),f.change(function(){globaldataset.variable={},globaldataset.variable.id=window.$(this).find(":selected").val(),globaldataset.variable.name=window.$(this).find(":selected").text(),updateChartStatus()}),f.trigger("change"),d.$("#mainContent").show(),d.$("#loadContent").hide(),d.enableAnimations?(d.$("#available-fermentations").attr("class","data-pool helper-para-seleccionar"),d.$("#selected-fermentations").attr("class","data-pool helper-para-graficar")):(d.$("#available-fermentations").attr("class","data-pool"),d.$("#selected-fermentations").attr("class","data-pool"))}},a.loadRequiredData=function(){c({method:"GET",url:d.webserviceURL+"/query/getFermentationList.php?random="+Math.random()}).then(function(b){var c=b.data.split("\n");a.fermentations=[];for(var e in c)a.fermentations.push(new d.Identificable(c[e].split("	")));a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving fermentation list",4e3,"rounded red")}),c({method:"GET",url:d.webserviceURL+"/query/getChemicalVariableList.php?random="+Math.random()}).then(function(b){var c,e,f=b.data.split("\n");a.chemicalvariables=d.$("<select></select>");for(var g in f)e=new d.Identificable(f[g].split("	")),c=d.$("<option>"+e.name+"</option>"),c.attr("value",e.id),c.appendTo(a.chemicalvariables);a.updateLoadStatus()},function(){d.Materialize.toast("Error retrieving chemical variable list",4e3,"rounded red")})}}]);var matrix=[],desface=0,notCreated=!0,reloadInterval=1,selectAllFermentations=function(a){for(var b=document.getElementsByClassName("email-fill"),c=0;c<b.length;c++)b.item(c).checked!==a.checked&&(b.item(c).checked=a.checked,b.item(c).onchange())},Prediccion=function(a){return{id:parseInt(a[0]),fecha:new Date(a[1].replace(/-/g,"/")).getTime()-Date.now()+desface,hora:parseInt(a[2]),estado:a[3],intervalo:parseInt(a[4]),monitoreada:"0"!==a[5],nombre:a[6]}},changeEmail=function(a,b){window.$.ajax({url:window.webserviceURL+"/query/changeFermentationMonitored.php?fermentacionID="+a+"&value="+b+"&random="+Math.random(),success:function(a){console.log("email notification setting changed! "+a)}})},buildTheTable=function(a){if("#!/predictions"!==location.hash)return matrix=[],void console.log("exit status 0");matrix=a.split("\n");for(var b in matrix)matrix[b]=new Prediccion(matrix[b].split("	"));notCreated&&(createUI(),notCreated=!0),updateUI(),window.$("#mainContent").show(),window.$("#loadContent").hide()},reloadData=function(){clearTimeout(reloadInterval),matrix=null,window.$.ajax({url:window.webserviceURL+"/query/getPredictionList.php?random="+Math.random(),success:function(a){clearTimeout(reloadInterval),buildTheTable(a)}})},openFermentationStatus=function(a,b){window.linkFromTheAbyss=[a,b],window.$("#mainContent").hide(),window.$("#loadContent").show(),window.$.ajax({url:window.webserviceURL+"/query/getChemicalVariableList.php?random="+Math.random(),success:function(a){var b=new window.Identificable([window.linkFromTheAbyss[0],window.linkFromTheAbyss[1]]);window.linkFromTheAbyss=null;var c=a.split("\n");window.plotData=[],window.plotCache={},window.plotCache.selectIndex=-1,window.plotCache.tablebody=window.$("#predictionTablebody"),window.enablePlotCaching=!0;for(var d in c)window.plotData.push({fermentation:b,chemicalvariable:new window.Identificable(c[d].split("	"))});window.$("#mainContent").show(),window.$("#loadContent").hide(),location.href="#!/plotFermentationStatus"}})},juntos=function(){var a;a=openFermentationStatus,a=juntos,a=reloadData,a=changeEmail,a=selectAllFermentations};angular.module("wineAiApp").controller("PredictionsCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.initializen=function(){a.setBounds(),a.loadRequiredData()},a.setBounds=function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px"),setTimeout(function(){d.$("#content").css("height","0px"),d.$("#content").css("min-height",document.body.clientHeight-65+"px"),d.$("#content").css("max-width",d.innerWidth+"px")},100)},a.loadRequiredData=function(){c({method:"GET",url:d.webserviceURL+"/query/getPredictionList.php?random="+Math.random()}).then(function(a){d.buildTheTable(a.data)},function(){d.Materialize.toast("Error retrieving fermentation prediction",4e3,"rounded red")})}}]),angular.module("wineAiApp").controller("DevoptionsCtrl",["$scope","$location","$http","$window",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.Sagiri=function(){d.Materialize.toast("Predictor It's on a remote host!",4e3,"rounded red")},a.tabber=function(a){d.devtabindex="dev-tab-"+a},a.settings={},a.devoptionsInitialize=function(){return d.$("ul.tabs").tabs(),null!==d.devtabindex&&d.$("ul.tabs").tabs("select_tab",d.devtabindex),d.devcounter<1?void b.path("main"):(a.settings.PREDICTOR_FILE="C:/XAMPP/WineAi/matias.py",a.setBounds(),a.settings.WEBSERVICE_URL=d.webserviceURL,void a.loadVariable("PREDICTOR_IP",function(b){a.settings.PREDICTOR_IP=b.data,a.loadVariable("PREDICTOR_PUERTO",function(b){a.settings.PREDICTOR_PUERTO=b.data,a.loadVariable("PREDICCION_INTERVALO",function(b){a.settings.PREDICCION_INTERVALO=b.data,d.predictionInterval=parseInt(a.settings.PREDICCION_INTERVALO),d.$("#timeinterval").val(window.predictionInterval)})})}))},a.setBounds=function(){d.$("#devContent").css("height","0px"),d.$("#devContent").css("min-height",document.body.clientHeight-65+"px"),d.$("#devContent").css("max-width",d.innerWidth+"px"),setInterval(function(){d.$("#devContent").css("height","0px"),d.$("#devContent").css("min-height",document.body.clientHeight-65+"px"),d.$("#devContent").css("max-width",d.innerWidth+"px")},100)},a.hideDeveloperOptions=function(){d.devcounter=0,b.path("main")},a.resetPredictionTable=function(){c({method:"GET",url:d.webserviceURL+"/dev/resetPredictionTable.php?random="+Math.random()}).then(function(a){"1"===a.data?d.Materialize.toast("Table reset successfully",4e3,"rounded green"):d.Materialize.toast(a.data,4e3,"rounded red")},function(){d.Materialize.toast("Error reseting",4e3,"rounded red")})},a.loadVariable=function(a,b){c({method:"GET",url:d.webserviceURL+"/dev/var/get.php?variable="+a+"&random="+Math.random()}).then(b,function(){d.Materialize.toast("Error retrieving variable: "+a,4e3,"rounded red")})},a.saveVariable=function(a,b,e){c({method:"GET",url:d.webserviceURL+"/dev/var/set.php?variable="+a+"&value="+b+"&random="+Math.random()}).then(e,function(){d.Materialize.toast("Error saving variable: "+a,4e3,"rounded red")})},a.saveMe=function(){d.predictionInterval=parseInt(d.$("#timeinterval").val()),d.predictionInterval=isNaN(d.predictionInterval)?43200:d.predictionInterval,d.predictionInterval=d.predictionInterval<1?1:d.predictionInterval,d.webserviceURL=a.settings.WEBSERVICE_URL,d.setCookie("prediction_interval",d.predictionInterval),d.setCookie("webserviceURL",a.settings.WEBSERVICE_URL),d.setCookie("blackboxURL",a.settings.PREDICTOR_IP),d.setCookie("blackboxPort",a.settings.PREDICTOR_PUERTO);var b=!0;a.saveVariable("WEBSERVICE_URL",a.settings.WEBSERVICE_URL,function(c){b=b&&"1"===c.data,a.saveVariable("PREDICTOR_IP",a.settings.PREDICTOR_IP,function(c){b=b&&"1"===c.data,a.saveVariable("PREDICTOR_PUERTO",a.settings.PREDICTOR_PUERTO,function(c){b=b&&"1"===c.data,a.saveVariable("PREDICCION_INTERVALO",d.predictionInterval,function(a){b=b&&"1"===a.data,b?d.Materialize.toast("Changes saved.",4e3,"rounded green"):d.Materialize.toast("Some changes may not be saved.",4e3,"rounded orange")})})})})}}]);var closeAllSessions=function(){for(var a=document.getElementsByClassName("session-fill"),b=document.getElementsByClassName("destroy-button"),c=b.length;c>0;c--)a.item(c-1).checked&&b.item(c-1).onclick()},selectAllSessions=function(a){for(var b=document.getElementsByClassName("session-fill"),c=0;c<b.length;c++)b.item(c).checked=a.checked},updateSessionTable=function(){window.$.ajax({url:window.webserviceURL+"/session/active_sessions.php?id="+window.Session.getUserID()+"&random="+Math.random(),success:function(a){window.constructTable(a)}})},constructTable=function(a){var b,c,d=window.$("#tablebody");if(d.empty(),""===a)return void window.Session.update(window.Session.getToken());for(var e=a.split("\n"),f=0;f<e.length;f++){var g=e[f].split("	");b=window.$('<tr id="Ses-'+g[0]+'"></tr>'),g[2]===window.Session.getToken()?(b.prependTo(d),c=window.$('<td class="center"><b>Sesion Actual</b></td>'),c.attr("class","center red-text"),c.appendTo(b)):(b.appendTo(d),c=window.$('<td class="center">'+g[3]+"</td>"),c.attr("class","center"),c.appendTo(b)),c=window.$('<td class="center">'+g[1]+"</td>"),c.attr("class","center"),c.appendTo(b),c=window.$('<td class="center"><button class="destroy-button" onclick="destroySession('+g[0]+", '"+g[2]+"');\">Logout</button></td>"),c.attr("class","center"),c.appendTo(b),c=window.$('<td class="center" style="padding-right: 144px;"><input type="checkbox" class="filled-in session-fill" id="logout-'+g[0]+'" /><label for="logout-'+g[0]+'"></label></td>'),c.attr("class","center"),c.appendTo(b)}window.$("#mainContent").show(),window.$("#loadContent").hide()},destroySession=function(a,b){window.$.ajax({url:window.webserviceURL+"/session/logout.php?id="+a+"&random="+Math.random(),success:function(c){"1"===c?(window.$("#Ses-"+a).remove(),window.conn.send("identify update-table"),window.Session.getToken()===b?window.Session.update(b):(window.conn.send("session "+b),console.log("sending: "+b))):window.alert("Cant logout")}})},harina=function(){var a;a=harina,a=constructTable,a=destroySession,a=updateSessionTable,a=closeAllSessions,a=selectAllSessions};angular.module("wineAiApp").controller("AccountCtrl",["$scope","$http","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.menuTemplate={url:"views/navbar.html"},a.accountInitialize=function(){a.setBounds(),a.loadRequiredData()},a.loadRequiredData=function(){b({method:"GET",url:c.webserviceURL+"/session/active_sessions.php?id="+c.Session.getUserID()+"&random="+Math.random()}).then(function(a){c.constructTable(a.data)},function(){c.Materialize.toast("Error retrieving fermentation prediction",4e3,"rounded red")})},a.setBounds=function(){c.$("#accountContent").css("height","0px"),c.$("#accountContent").css("min-height",document.body.clientHeight-65+"px"),c.$("#accountContent").css("max-width",c.innerWidth+"px"),setInterval(function(){c.$("#accountContent").css("height","0px"),c.$("#accountContent").css("min-height",document.body.clientHeight-65+"px"),c.$("#accountContent").css("max-width",c.innerWidth+"px")},100)}}]),angular.module("wineAiApp").run(["$templateCache",function(a){a.put("views/account.html",'<!-- Navbar goes here --> <div ng-include="account.menuTemplate.url"></div> <!-- Contenido --> <div id="accountContent" class="center vantainer" ng-init="accountInitialize()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="mainContent"> <h4>Sesiones Activas</h4> <table id="predictionContainer" class="center bordered custom-table"> <thead> <tr> <th class="center longboy" style="min-width:200px">Navegador</th> <th class="center longboy" style="min-width:200px">Fecha login</th> <th class="center longboy" style="min-width:200px">Accion</th> <th class="center longboy" style="min-width:200px"><input type="checkbox" onchange="selectAllSessions(this)" class="filled-in" id="select-all-sessions"><label for="select-all-sessions" style="vertical-align:middle;height:20px;line-height:20px"></label><button style="font-weight: normal;width: 140px" onclick="closeAllSessions()">Logout Selected</button></th> </tr> </thead> <tbody id="tablebody"></tbody> </table> </div> </div> </div>'),a.put("views/checkfermentationstatus.html",'<!-- Navbar goes here --> <div ng-include="checkFermentationStatus.menuTemplate.url"></div> <!-- Contenido --> <div id="checkFermentationStatusBody" class="center vantainer" ng-init="checkFermentationStatusInitialize()"> <div class="valign"></div> <div class="venter"> <div id="checkFermentationStatusLoading"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="checkFermentationStatusTrouble" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="retry" ng-click="checkFermentationStatusRetry();"> Intentar nuevamente </button> </div> <div id="checkFermentationStatusPrepare" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Preparando consulta...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="checkFermentationStatusContent" style="display:none"> <h4>Ver Estado Fermentacion</h4> <table id="checkFermentationStatusSelectContainer" class="center bordered custom-table"> <thead> <tr> <th class="center">Fermentacion</th> </tr> </thead> <tbody id="checkFermentationStatusTablebody"> <tr> <td><select class="browser-default custom-select" id="checkFermentationStatusFermentations" onchange="checkFermentationStatusEnableButtons()"></select></td> </tr> </tbody> </table> <br> <button disabled class="waves-effect waves-light btn blue" style="margin:10px" id="checkFermentationStatusSendButton" ng-click="checkFermentationStatusSendRequest();"> Ver Estado </button> </div> </div> </div>'),a.put("views/comparevalues.html",'<!-- Navbar goes here --> <div ng-include="comparevalues.menuTemplate.url"></div> <!-- Contenido --> <div id="content" class="center vantainer" ng-init="initialize()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="processing"> <h5 style="cursor:default;margin-bottom:32px">Preparando consulta...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none;min-width: 1004px" id="mainContent"><div id="chart-container"><div id="chart-options"><div class="valign"></div><div class="selected-variable-tooltip venter">Variable seleccionada: </div></div><div id="chart-placeholder"></div></div><div class="data-pool" ondrop="drop(event)" ondragover="allowDrop(event)" id="selected-fermentations"></div><div class="data-pool" ondrop="drop(event)" ondragover="allowDrop(event)" id="available-fermentations"></div></div> </div> </div>'),a.put("views/devoptions.html",'<!-- Navbar goes here --> <div ng-include="devoptions.menuTemplate.url"></div> <!-- Contenido --> <div id="devContent" class="center valign-wrapper" ng-init="devoptionsInitialize()" style="background:#323232"> <div class="center" style="width:100%"> <div class="z-depth-4 white" style="display: inline-block;width: 800px; height: 360px; cursor: default"> <ul id="tabs-swipe-demo" class="tabs"><li class="tab" style="width:calc(100% / 3)"><a href="#dev-tab-1" ng-click="tabber(1);"><b>Eviroment Variables</b></a></li><li class="tab" style="width:calc(100% / 3)"><a href="#dev-tab-2" ng-click="tabber(2);"><b>Predictor Settings</b></a></li><li class="tab" style="width:calc(100% / 3)"><a href="#dev-tab-3" ng-click="tabber(3);" class="active"><b>Prediction Table</b></a></li></ul> <!-- Tab 1 --> <div id="dev-tab-1" style="padding: 50px; height: calc(100% - 109px)"> <div class="row" ng-style="{\'margin\':\'0px\', \'margin-top\':\'20px\', \'margin-right\': \'5px\', \'text-align\':\'right\'}"> URL del webservice: <input placeholder="Enter URL" class="medium-input" ng-model="settings.WEBSERVICE_URL"> <button class="btn waves-effect waves-light blue" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="saveMe()">Change</button> </div> </div> <!-- Tab 2 --> <div id="dev-tab-2" style="padding: 50px; height: calc(100% - 109px)"> <div class="row roger" ng-style="{\'text-align\':\'right\'}"> Host Remoto del predictor: <input placeholder="Enter URL" class="medium-input" ng-model="settings.PREDICTOR_IP"> <button class="btn waves-effect waves-light blue" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="saveMe()">Change</button> </div> <div class="row roger" ng-style="{\'text-align\':\'right\'}"> Puerto del predictor: <input placeholder="Enter Port" class="medium-input" ng-model="settings.PREDICTOR_PUERTO"> <button class="btn waves-effect waves-light blue" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="saveMe()">Change</button> </div> <div class="row roger" ng-style="{\'text-align\':\'right\'}"> Direccion <b>local</b> del predictor: <input placeholder="Enter URL" class="medium-input" ng-model="settings.PREDICTOR_FILE"> <button class="btn waves-effect waves-light blue" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="saveMe()">Change</button> </div> <div class="row" ng-style="{\'margin-top\':\'20px\', \'margin-right\': \'5px\', \'text-align\':\'right\' }"> Levantar Servicio Predictor Python <b>(local machine only)</b> <button class="btn waves-effect waves-light red" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="Sagiri()">Run</button> </div> </div> <!-- Tab 3 --> <div id="dev-tab-3" style="padding: 50px; height: calc(100% - 109px)"> <div class="row" ng-style="{\'margin-top\':\'10px\', \'margin-right\': \'5px\', \'text-align\':\'right\' }"> Intervalo de tiempo entre Predicciones: <input placeholder="Enter Interval" id="timeinterval" class="smol-input" value="12"> Segundos <button class="btn waves-effect waves-light" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="saveMe()">Set</button> </div> <div class="row" ng-style="{\'margin-top\':\'20px\', \'margin-right\': \'5px\', \'text-align\':\'right\' }"> <b>Reiniciar Tabla de Predicciones</b> <button class="btn waves-effect waves-light red" ng-style="{\'margin-left\':\'15px\', \'width\' : \'125px\'}" ng-click="resetPredictionTable()">Reset</button> </div> </div> </div> </div> </div>'),a.put("views/home.html",'<!-- Navbar goes here --> <div ng-include="home.menuTemplate.url"></div> <!-- Contenido --> <div class="center vantainer" id="home" ng-init="inithome()"> <div class="valign"></div> <div class="venter"><div class="mekkatorque"><div class="z-depth-2 center custom-option-box custom-color-1{{animated}}" ng-click="changeView(\'checkFermentationStatus\')"> <img class="custom-image-box custom-image-size-1" src="{{toblerone}}/images/menu/analytics.png"> <div>Estado de Fermentacion</div> </div><div class="z-depth-2 center custom-option-box custom-color-2{{animated}}" ng-click="changeView(\'comparevalues\')"> <img class="custom-image-box custom-image-size-2" src="{{toblerone}}/images/menu/comparative.png"> <div>Comparar Fermentaciones</div> </div></div><div class="mekkatorque"><div class="z-depth-2 center custom-option-box custom-color-3{{animated}}" ng-click="changeView(\'selectChemicalVariables\')"> <img class="custom-image-box custom-image-size-3" src="{{toblerone}}/images/menu/line-chart.png"> <div>Graficar Variables</div> </div><div class="z-depth-2 center custom-option-box custom-color-4{{animated}}" ng-click="changeView(\'predictions\')"> <img class="custom-image-box custom-image-size-4" src="{{toblerone}}/images/menu/stopwatch.png"> <div>Tabla de Predicciones</div> </div></div></div></div>'),a.put("views/main.html",'<center id="wumbo" class="blindfold vantainer" ng-init="slidering()"><div class="view-container"><div id="slain" class="slider"> <ul class="slides"> <li><!-- to show logo lol --></li> <li> <img src="{{kitkat}}/images/login/1.jpg"> <div class="caption left-align barril"> <h3 class="resilence">Acceso Remoto </h3> <h5 class="relentess">Véa sus datos importantes en tiempo real y desde cualquier lugar</h5> </div> </li> <li> <img src="{{kitkat}}/images/login/2.jpg"> <div class="caption right-align cerebro"> <h3 class="resilence">Predicción inteligente</h3> <h5 class="relentess">Basada en Machine learning para la obtención de resultados precisos</h5> </div> </li> <li> <img src="{{kitkat}}/images/login/3.jpg"> <div class="caption center-align vino"> <h3 class="resilence">Pensado en el usuario</h3> <h5 class="relentess">Gestione su negocio de forma rapida y sencilla</h5> </div> </li> </ul> </div> </div><div class="form-container"> <div class="valign"></div> <div class="venter"> <div id="login-preload" class="vantainer" style="display:none"> <div class="valign"></div> <div class="venter"> <h5 id="vineyardlabel">Iniciando sesión</h5> <br> <div class="preloader-wrapper active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div> <div class="gap-patch"> <div class="circle"></div> </div> <div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> </div> <form id="login-form"> <div class="valign"></div> <div class="boomking"> <div class="regend"></div> <div class="bambloozed">Inicia sesión</div> <div class="input-field login-input"> <input ng-model="Login.user" class="validate" type="text" name="email" id="email"> <label for="email">Ingrese su usuario</label> </div> <div class="input-field login-input"> <input ng-model="Login.pass" class="validate" type="password" name="password" id="password"> <label for="password">Ingrese su clave</label> </div> <button class="login-button{{animated}}" ng-click="Login.submit()">Inicia Sesión</button> </div> </form> </div> </div> </center>'),a.put("views/navbar.html",'<div ng-controller="NavbarCtrl as menu"> <!-- Dropdown Structure --> <ul id="dropdown1" class="dropdown-content"> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="account();"> <i class="material-icons left" style="width:32px">account_circle</i> My Account </li> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="settings();"> <i class="material-icons left" style="width:32px">settings</i> Settings </li> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="developer();" ng-if="showDevOptions()"> <i class="material-icons left" style="width:32px">developer_mode</i> Developer </li> <li style="line-height:64px;padding-left:5px;cursor:pointer" ng-click="logout();"> <i class="material-icons left" style="width:32px">exit_to_app</i> Log out </li> </ul> <!-- NavBar Structure --> <nav class="novita vantainer"> <div class="nav-wrapper"> <div class="custom-nav left-align"> <div ng-click="goHome();" ng-if="isHome()" style="display:inline-block;cursor:pointer;padding-left:20px;padding-right:20px;vertical-align:middle"> <i class="material-icons left">home</i> Home </div> <div ng-click="goBack();" ng-if="isHome()" style="display:inline-block;cursor:pointer;padding-left:20px;padding-right:20px;vertical-align:middle"> <i class="material-icons left">arrow_back</i> Back </div> </div><div class="custom-nav right-align"> <!-- Dropdown Trigger --> <div style="height:64px;display:inline-block;vertical-align:top;cursor:pointer;min-width:200px" class="center dropdown-button" href="#!" data-activates="dropdown1"> {{getUsername()}} <i class="material-icons right">arrow_drop_down</i> </div> </div> </div> </nav> </div>'),
a.put("views/plotchemicalvariables.html",'<!-- Navbar goes here --> <div ng-include="plotChemicalVariables.menuTemplate.url"></div> <!-- Contenido --> <div id="plotChemicalVariablesBody" class="center vantainer" ng-init="plotChemicalVariablesInitialize()"> <div class="valign"></div> <div class="venter"> <div id="plotChemicalVariablesLoading"> <h5 style="cursor:default;margin-bottom:32px">Consultando los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="plotChemicalVariablesTrouble" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="plotChemicalVariablesRetryButton" ng-click="plotChemicalVariablesRetry();"> Intentar nuevamente </button> </div> <div id="plotChemicalVariablesContent" style="display:none"></div> </div> </div>'),a.put("views/plotfermentationstatus.html",'<!-- Navbar goes here --> <div ng-include="plotFermentationStatus.menuTemplate.url"></div> <!-- Contenido --> <div id="plotFermentationStatusBody" class="center vantainer" ng-init="plotFermentationStatusInitialize()"> <div class="valign"></div> <div class="venter"> <div id="plotFermentationStatusLoading"> <h5 style="cursor:default;margin-bottom:32px">Consultando los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div id="plotFermentationStatusTrouble" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="plotFermentationStatusRetryButton" ng-click="plotFermentationStatusRetry();"> Intentar nuevamente </button> </div> <div id="plotFermentationStatusContent" style="display:none"> <h4 id="plotFermentationStatusVineyard">Estado de Fermentacion: <span id="plotFermentationStatusFermentation"></span></h4> </div> </div> </div>'),a.put("views/predictfermentation.html",'<!-- Navbar goes here --> <div ng-include="predictFermentation.menuTemplate.url"></div> <!-- Contenido --> <div id="predictFermentationBody" class="center vantainer" ng-init="predictFermentationInitialize()"> <div class="valign"></div> <div class="venter"> <div id="predictFermentationContent" style="display:none"> <h4>Predecir Fermentacion</h4> <table id="predictFermentationSelectContainer" class="center bordered custom-table"> <thead> <tr> <th class="center">Fermentacion</th> <th class="center">Horas</th> </tr> </thead> <tbody id="predictFermentationTablebody"> <tr> <td><select class="browser-default custom-select" id="predictFermentationFermentations" onchange="predictFermentationSetHours()"></select></td> <td><select disabled class="browser-default custom-select" id="predictFermentationHours" onchange="predictFermentationEnableButtons()"></select></td> </tr> </tbody> </table> <br> <button disabled class="waves-effect waves-light btn blue" style="margin:10px" id="predictFermentationSendButton" ng-click="predictFermentationSendRequest();"> Obtener prediccion </button> </div> <div id="predictFermentationPrepare"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="predictFermentationTrouble"> <h5 style="cursor:default;margin-bottom:32px">Ocurrio un error al consultar los datos.</h5> <button class="waves-effect waves-light btn blue" style="margin:10px" id="predictFermentationRetryButton" ng-click="predictFermentationRetry();"> Intentar nuevamente </button> </div> <div id="predictFermentationLoading" style="display:none"> <h5 style="cursor:default;margin-bottom:32px">Consultando Prediccion...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> </div> </div>'),a.put("views/predictions.html",'<!-- Navbar goes here --> <div ng-include="predictions.menuTemplate.url"></div> <!-- Contenido --> <div id="content" class="center vantainer" ng-init="initializen()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="mainContent"> <h4>Tabla de Predicciones</h4> <table id="predictionContainer" class="center bordered custom-table"> <thead> <tr> <th class="center longboy">Fermentacion</th> <th class="center longboy">12 Horas</th> <th class="center longboy">24 Horas</th> <th class="center longboy">36 Horas</th> <th class="center longboy">48 Horas</th> <th class="center longboy"><input type="checkbox" onchange="selectAllFermentations(this)" class="filled-in" id="select-all-sessions"><label for="select-all-sessions" style="vertical-align:middle;height:20px;line-height:20px"></label><i class="material-icons" style="vertical-align:middle">email</i></th> </tr> </thead> <tbody id="tablebody"></tbody> </table> </div> </div> </div>'),a.put("views/selectchemicalvariables.html",'<!-- Navbar goes here --> <div ng-include="selectChemicalVariables.menuTemplate.url"></div> <!-- Contenido --> <div id="content" class="center vantainer" ng-init="initialize()"> <div class="valign"></div> <div class="venter"> <div id="loadContent"> <h5 style="cursor:default;margin-bottom:32px">Espere mientras se cargan los datos necesarios...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="processing"> <h5 style="cursor:default;margin-bottom:32px">Preparando consulta...</h5> <div class="preloader-wrapper big active"> <div class="spinner-layer spinner-blue-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </div> <div style="display:none" id="mainContent"> <h4>Graficar Variables Químicas</h4> <table id="selectContainer" class="center bordered custom-table"> <thead> <tr> <th class="center">Fermentacion</th> <th class="center">Variable Quimica</th> </tr> </thead> <tbody id="tablebody"></tbody> </table> <br> <button class="waves-effect waves-light btn blue" style="margin:10px" id="addElement" ng-click="addElement();"> Agregar otro elemento </button> <button class="waves-effect waves-light btn blue" style="margin:10px" id="continuar" ng-click="continuar();"> Graficar </button> </div> </div> </div>'),a.put("views/settings.html",'<!-- Navbar goes here --> <div ng-include="settings.menuTemplate.url"></div> <!-- Contenido --> <div id="settingsContent" class="center" ng-init="settingsInitialize()"> <form style="display: inline-block;min-width: 600px; padding-top: 50px; cursor: default" ng-submit="saveMe();"> <h3 ng-style="{\'margin-bottom\':\'50px\'}">Settings</h3> <div class="row"> <input type="checkbox" id="enableAnimationsCheckBox"> <label for="enableAnimationsCheckBox" class="black-text" ng-style="{\'width\':\'400px\', \'text-align\':\'left\'}">Enable animations</label> </div> <div class="row"> <input type="checkbox" id="enableCarouselCheckBox"> <label for="enableCarouselCheckBox" class="black-text" ng-style="{\'width\':\'400px\', \'text-align\':\'left\'}">Enable carousel itemization</label> </div> <button ng-style="{\'margin-top\':\'20px\'}" class="btn waves-effect waves-light blue" type="submit" name="action">Save Changes</button> </form> </div>'),a.put("views/statics.html",'<div class="row"> <div class="col s12"> <div class="row"> <div class="input-field col s12"> <input type="text" id="autocomplete-input" class="autocomplete"> <label for="autocomplete-input">Autocomplete</label> </div> </div> </div> </div> <script>$(\'input.autocomplete\').autocomplete({\n    data: {\n      "Apple": null,\n      "Microsoft": null,\n      "Google": \'https://placehold.it/250x250\'\n    },\n    limit: 20, // The max amount of results that can be shown at once. Default: Infinity.\n    onAutocomplete: function(val) {\n      // Callback function when value is autcompleted.\n    },\n    minLength: 1, // The minimum length of the input for the autocomplete to start. Default: 1.\n  });</script>')}]);